#N canvas 549 54 699 558 12;
#X declare -lib timbreIDLib -path ./lib -lib Gem;
#N canvas 190 239 497 304 TODO 0;
#X text 43 82 - take histograms: H1 \, H2... HN;
#X text 44 99 - take pearson correlation;
#X text 44 115 - take mean of all distances;
#X text 44 134 - if D is closer to 0 \, then it is DISCONTINUOUS;
#X text 44 153 - if D is closer to 1 \, then it is CONTINUOUS;
#X obj 30 36 declare -lib timbreIDLib -path ./lib -lib Gem;
#X restore 141 77 pd TODO;
#X text 125 419 Try with a set of frames from a video file;
#X text 124 318 Try with a set of frames from single images;
#X text 31 140 Usage:;
#X text 172 191 - Number of images;
#X text 171 210 - Filename (e.g. \, in "root-10.jpg" \, only send "root"
;
#X text 173 231 - /Full/Path/to_your_dir/with_images;
#X text 322 103 <-- see here;
#N canvas 338 0 897 778 frame_correlation 0;
#X obj 90 407 gemhead;
#X obj 206 715 array define histogram;
#X obj 90 478 pix_multiimage;
#X obj 89 380 t b f f, f 8;
#X obj 142 606 f;
#X obj 206 661 list;
#X obj 428 560 list prepend;
#X msg 419 471 mean;
#X obj 425 531 tabletool distances;
#N canvas 0 22 421 396 load_arrays 0;
#X obj 116 179 ggee/getdir;
#X obj 48 239 list;
#X obj 48 175 iterate;
#X obj 48 208 t f f;
#X obj 68 290 list;
#X obj 57 265 list;
#X obj 48 108 t b b a;
#X obj 55 14 inlet;
#X obj 55 40 list split 1;
#X obj 48 151 f;
#N canvas 627 59 450 300 histarrays 0;
#X obj 10 10 clone fd_arrayclone 300 define hist;
#X restore 238 72 pd histarrays;
#X obj 116 107 t f f;
#X msg 228 170 clear \, obj 10 10 clone fd_arrayclone \$1 define hist
, f 16;
#X obj 231 237 s pd-histarrays;
#X msg 71 317 \; hist-\$4 read \$2/../txt/fc-\$1-\$3.txt;
#X connect 0 0 1 1;
#X connect 1 0 5 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X connect 3 1 4 1;
#X connect 4 0 14 0;
#X connect 5 0 4 0;
#X connect 6 0 9 0;
#X connect 6 1 0 0;
#X connect 6 2 5 1;
#X connect 7 0 8 0;
#X connect 8 0 6 0;
#X connect 8 1 11 0;
#X connect 9 0 2 0;
#X connect 11 0 9 1;
#X connect 11 1 12 0;
#X connect 12 0 13 0;
#X restore 487 447 pd load_arrays;
#N canvas 0 22 499 624 correlate 0;
#X obj 207 131 iterate;
#X obj 247 363 tabletool;
#X obj 207 155 t b f;
#X obj 207 212 iterate;
#X obj 207 236 t f f;
#X obj 261 267 !=;
#X obj 205 266 spigot;
#X msg 316 306 set hist-\$1;
#X obj 286 230 t f f f;
#X obj 122 407 list prepend append;
#X obj 122 431 list trim;
#X obj 109 462 list store;
#X obj 109 486 _array_fill distances;
#X msg 202 305 corr hist-\$1;
#X obj 115 15 inlet;
#X obj 283 18 array define distances;
#X obj 115 58 t b a b;
#X obj 214 53 list split 1;
#X obj 255 83 t f f;
#X obj 207 179 f;
#X connect 0 0 2 0;
#X connect 1 0 9 0;
#X connect 2 0 19 0;
#X connect 2 1 8 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 4 1 5 0;
#X connect 5 0 6 1;
#X connect 6 0 13 0;
#X connect 7 0 1 0;
#X connect 8 0 5 1;
#X connect 8 1 7 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 13 0 1 0;
#X connect 14 0 16 0;
#X connect 16 0 11 0;
#X connect 16 1 17 0;
#X connect 16 2 11 1;
#X connect 17 1 18 0;
#X connect 18 0 0 0;
#X connect 18 1 19 1;
#X connect 19 0 3 0;
#X restore 469 476 pd correlate;
#X obj 173 127 gemwin;
#X obj 448 418 t b a a a;
#X obj 152 351 - 1;
#X obj 175 421 list;
#X obj 175 399 list;
#X msg 200 352 symbol \$1-*.jpg;
#X msg 175 447 open \$3/\$2 \$1;
#X obj 200 326 t a a, f 19;
#X obj 202 239 symbol;
#X obj 122 253 t f f;
#X obj 73 270 f;
#X obj 295 286 symbol;
#X obj 130 222 f;
#X obj 52 120 t b b;
#X msg 83 151 create;
#X obj 168 168 t b b b;
#X obj 117 69 t b b;
#X obj 302 141 list split 1;
#X obj 342 169 list split 1;
#X obj 83 175 gemwin;
#X obj 546 309 gemwin;
#X obj 428 235 t b b;
#X msg 547 286 destroy \, buffer 1;
#X obj 370 80 t a a;
#X obj 459 160 list split 2;
#X obj 450 368 list;
#X msg 447 391 list \$2 \$1;
#X obj 51 37 t b b a, f 40;
#X msg 174 74 destroy \, reset \, dimen 200 200 \, buffer 1, f 15
;
#X text 422 213 HISTOGRAMS DONE: Calculate correlation;
#X obj 53 13 r frame_correlation;
#N canvas 281 132 476 506 frame_diff 0;
#X obj 176 236 pix_diff;
#X obj 175 368 pix_texture;
#X obj 163 161 pix_separator;
#X obj 265 163 pix_separator;
#X obj 168 72 pix_grey;
#X obj 176 281 pix_threshold;
#X obj 286 238 hsl 128 15 0 1 0 1 empty empty threshold 8 8 0 10 -262130
-1 -1 5900 0;
#X obj 265 195 pix_delay 1;
#X obj 179 11 inlet;
#X obj 176 462 outlet;
#X floatatom 301 281 5 0 0 0 - - -;
#X obj 173 41 pix_resize 300 300;
#X obj 365 204 r threshold;
#X obj 155 321 pix_histo histogram;
#X obj 168 103 t a a;
#X obj 175 391 square 4;
#X obj 175 426 t b;
#X text 306 324 <-- calculate histograms, f 13;
#X connect 0 0 5 0;
#X connect 1 0 15 0;
#X connect 2 0 0 0;
#X connect 3 0 7 0;
#X connect 4 0 14 0;
#X connect 5 0 13 0;
#X connect 6 0 5 1;
#X connect 6 0 10 0;
#X connect 7 0 0 1;
#X connect 8 0 11 0;
#X connect 11 0 4 0;
#X connect 12 0 5 1;
#X connect 13 0 1 0;
#X connect 14 0 3 0;
#X connect 14 1 2 0;
#X connect 15 0 16 0;
#X connect 16 0 9 0;
#X restore 48 526 pd frame_diff;
#X obj 67 86 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 207 686 write ../txt/fc-\$1-\$2.txt;
#X obj 61 326 iterate;
#X obj 480 710 text;
#X msg 492 630 clear \, set \$1;
#X obj 426 605 list split 2;
#X msg 424 668 write ../txt/frame_correlation-\$1-\$2.txt;
#X connect 0 0 2 0;
#X connect 2 0 42 0;
#X connect 3 0 0 0;
#X connect 3 1 2 1;
#X connect 3 2 4 1;
#X connect 4 0 5 0;
#X connect 5 0 44 0;
#X connect 6 0 48 0;
#X connect 7 0 8 0;
#X connect 8 0 6 0;
#X connect 12 0 7 0;
#X connect 12 1 10 0;
#X connect 12 2 9 0;
#X connect 12 3 6 1;
#X connect 13 0 15 0;
#X connect 14 0 17 0;
#X connect 15 0 14 0;
#X connect 16 0 15 1;
#X connect 17 0 2 0;
#X connect 18 0 16 0;
#X connect 18 1 5 1;
#X connect 19 0 18 0;
#X connect 20 0 21 1;
#X connect 20 1 13 0;
#X connect 21 0 45 0;
#X connect 22 0 14 1;
#X connect 23 0 20 0;
#X connect 24 0 21 0;
#X connect 24 1 25 0;
#X connect 25 0 30 0;
#X connect 26 0 23 0;
#X connect 26 1 19 0;
#X connect 26 2 22 0;
#X connect 27 0 26 0;
#X connect 27 1 39 0;
#X connect 28 0 23 1;
#X connect 28 1 29 0;
#X connect 29 0 19 1;
#X connect 29 1 22 1;
#X connect 32 0 36 0;
#X connect 32 1 33 0;
#X connect 33 0 31 0;
#X connect 34 0 28 0;
#X connect 34 1 35 0;
#X connect 35 0 36 1;
#X connect 36 0 37 0;
#X connect 37 0 12 0;
#X connect 38 0 24 0;
#X connect 38 1 27 0;
#X connect 38 2 34 0;
#X connect 39 0 11 0;
#X connect 41 0 38 0;
#X connect 42 0 4 0;
#X connect 43 0 24 0;
#X connect 44 0 1 0;
#X connect 45 0 3 0;
#X connect 45 1 32 0;
#X connect 47 0 46 0;
#X connect 48 0 49 0;
#X connect 48 1 47 0;
#X connect 49 0 46 0;
#X restore 140 102 pd frame_correlation;
#X text 229 20 FRAME CORRELATION TEST;
#X text 91 158 send a message to "frame_correlation" with the following
arguments:;
#X msg 123 343 \; threshold 0.5 \; frame_correlation 300 i /Users/federicocamarahalac/Documents/fd_work/images/jpg3
;
#X msg 119 441 \; threshold 0.5 \; frame_correlation 300 subway /Users/federicocamarahalac/Documents/subway-img
;
