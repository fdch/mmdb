#N canvas 526 49 750 398 12;
#X declare -path ./lib -path ../rec -path ../txt -path ../img -lib
Gem -path pix_opencv -lib timbreIDLib;
#N canvas 0 20 450 300 declare 1;
#X obj 20 20 declare -path ./lib -path ../rec -path ../txt -path ../img
-lib Gem -path pix_opencv -lib timbreIDLib;
#X restore 20 20 pd declare;
#X text 200 20 "diana";
#N canvas 206 327 320 451 analyisis 0;
#N canvas 234 0 932 767 contours 0;
#X obj 167 389 pix_gray;
#X msg 414 192 epsilon \$1;
#X msg 436 214 area \$1;
#X obj 335 435 pix_opencv_contours;
#X msg 442 236 hierarchy_level \$1;
#X msg 456 256 contours \$1;
#X msg 508 324 cvblobOutput \$1;
#X msg 520 350 repeat_point \$1;
#X msg 550 400 settab \$1 \$2 \$3;
#X msg 576 425 taboutput \$1;
#X obj 552 377 list;
#X msg 492 299 convexitydefects \$1;
#X obj 429 97 array define defects;
#X obj 428 48 text define cvblob-contours;
#X obj 152 290 _getimg;
#X obj 378 654 timbreID;
#X obj 56 289 _iterate_img;
#X obj 56 81 t a b, f 30;
#X msg 606 550 clear;
#X obj 137 327 t a b;
#X obj 80 162 route bang;
#X obj 51 8 r d_contours;
#N canvas 0 22 1137 302 draw_contours 0;
#X obj 436 35 route cvblob count;
#X obj 753 104 hradio 15 1 0 3 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X obj 753 126 * -1;
#X msg 753 150 \; d_contours hierarchy \$1;
#X obj 159 41 route convexhull convexitydefects;
#N canvas 18 36 898 544 draw_defects 0;
#X obj 241 238 gemhead;
#X obj 241 288 color 1 0 0 1;
#N canvas 541 399 739 379 ortho_point 0;
#X obj 192 7 inlet;
#X obj 192 57 t a a;
#X obj 204 238 *;
#X obj 174 238 *;
#X obj 114 124 unpack 0 0 0 0;
#X obj 114 279 +;
#X obj 154 279 +;
#X obj 114 340 outlet;
#X obj 174 320 outlet;
#X obj 153 198 -;
#X msg 153 178 1 \$1;
#X obj 144 238 *;
#X obj 114 238 *;
#X obj 219 84 list split 6;
#X text 578 124 dot product;
#X floatatom 244 163 5 0 0 0 - - -;
#X obj 300 29 t b;
#X msg 343 68 0 1 1 1 0.5 0.5;
#X obj 219 124 expr abs(($f3-$f1)*($f6-$f2)+($f4-$f2)*($f5-$f1));
#X obj 302 158 expr $f1*sqrt(10.666*8);
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 1 1 13 0;
#X connect 2 0 6 1;
#X connect 3 0 5 1;
#X connect 4 0 12 0;
#X connect 4 1 11 0;
#X connect 4 2 3 0;
#X connect 4 3 2 0;
#X connect 5 0 7 0;
#X connect 6 0 8 0;
#X connect 9 0 11 1;
#X connect 9 0 12 1;
#X connect 10 0 9 0;
#X connect 11 0 6 0;
#X connect 12 0 5 0;
#X connect 13 0 18 0;
#X connect 16 0 17 0;
#X connect 17 0 1 0;
#X connect 18 0 15 0;
#X connect 18 0 19 0;
#X connect 19 0 2 1;
#X connect 19 0 3 1;
#X connect 19 0 10 0;
#X restore 646 485 pd ortho_point;
#X text 568 262 number of defects;
#X text 568 282 "7" values;
#X msg 253 377 \$1 \$2 0 \$3 \$4 0 \$5 \$6 0;
#X obj 242 405 polygon;
#X obj 241 319 translateXYZ -4 4 0;
#X obj 241 350 scaleXYZ 8 -8 0;
#X obj 213 152 list split 2;
#X obj 333 119 list split 1;
#X obj 245 183 zexy/repack 7;
#X obj 251 112 t a a;
#X obj 335 95 list split 2;
#X obj 397 316 t a a;
#X obj 47 36 inlet;
#X obj 717 21 inlet;
#X text 520 305 a defect is represented by 7 values :;
#X text 626 326 start point (x \, y) \,;
#X text 627 351 end point (x \, y) \,;
#X text 634 375 farthest point (x \, y;
#X text 642 401 and defect depth;
#X obj 255 36 inlet;
#X obj 233 461 _stack_fill defects;
#X obj 241 263 alpha;
#X obj 246 211 t b a;
#X obj 477 359 loadbang;
#X msg 477 385 draw linestrip;
#X obj 39 143 loadbang;
#X msg 39 167 0;
#X connect 0 0 24 0;
#X connect 1 0 7 0;
#X connect 5 0 6 0;
#X connect 7 0 8 0;
#X connect 8 0 6 0;
#X connect 9 1 11 0;
#X connect 10 1 11 1;
#X connect 11 0 25 0;
#X connect 12 0 9 0;
#X connect 12 1 13 0;
#X connect 13 0 10 0;
#X connect 14 0 5 0;
#X connect 14 1 23 1;
#X connect 15 0 23 0;
#X connect 16 0 23 2;
#X connect 22 0 12 0;
#X connect 24 0 1 0;
#X connect 25 0 0 0;
#X connect 25 1 14 0;
#X connect 26 0 27 0;
#X connect 27 0 6 0;
#X connect 28 0 29 0;
#X connect 29 0 0 0;
#X restore 229 165 pd draw_defects;
#N canvas 0 22 813 542 contours 0;
#X obj 42 188 print contours;
#X obj 43 111 route contour;
#X obj 140 158 print;
#X text 47 94 consistency check error;
#X obj 60 47 inlet;
#X obj 304 101 array define contX;
#X obj 304 122 array define contY;
#X obj 304 143 array define contZ;
#N canvas 684 194 520 350 draw_contour_gemvertexbuffer 0;
#X obj 78 217 loadbang;
#X obj 38 109 translateXYZ -0.5 -0.5 0;
#X obj 38 86 scaleXYZ 10.6666 -8 1;
#X obj 38 131 t a b;
#X obj 38 61 alpha 0;
#X msg 78 237 draw line;
#X obj 38 289 gemvertexbuffer;
#X obj 99 138 inlet;
#X obj 194 200 r point_number;
#X msg 172 245 resize \$1;
#X floatatom 245 250 5 0 0 0 - - -;
#X obj 38 35 gemhead -1;
#X msg 99 160 posX contX \, posY contY \, colorG contZ \, colorA contZ
;
#X obj 260 15 loadbang;
#X msg 260 39 0;
#X connect 0 0 5 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 6 0;
#X connect 3 1 12 0;
#X connect 4 0 2 0;
#X connect 5 0 6 0;
#X connect 7 0 12 0;
#X connect 8 0 9 0;
#X connect 8 0 10 0;
#X connect 9 0 6 0;
#X connect 11 0 4 0;
#X connect 12 0 6 0;
#X connect 13 0 14 0;
#X connect 14 0 11 0;
#X restore 450 110 pd draw_contour_gemvertexbuffer;
#X text 185 17 crashes!!!;
#X msg 285 210 \; d_contours settab contX contY contZ \, tabout 1 \;
d_contours hierarchy -1 \, contours 0 \, hulls 1 \, defects 1 \, blob
1 \; d_contours epsilon 2 \, area 30 \; d_contours 0 \;;
#X obj 332 37 array define contours;
#X connect 1 1 2 0;
#X restore 363 163 pd contours;
#N canvas 229 35 1051 743 cvblob 0;
#X obj 238 20 inlet;
#N canvas 21 0 1198 730 info 0;
#X obj 87 189 cnv 15 250 40 empty empty empty 20 12 0 14 -4034 -66577
0;
#X obj 148 360 cnv 15 350 20 empty empty empty 20 12 0 14 -4034 -66577
0;
#X obj 230 400 cnv 15 300 20 empty empty empty 20 12 0 14 -4034 -66577
0;
#X obj 498 9 cnv 15 100 40 empty empty empty 20 12 0 14 -4034 -66577
0;
#X obj 267 565 cnv 15 330 50 empty empty empty 20 12 0 14 -4034 -66577
0;
#X obj 441 84 inlet;
#X obj 455 154 list split 2;
#X obj 389 227 list split 20;
#X text 551 151 cut matrix header;
#X text 646 398 cut infos for the 1st contour;
#X text 113 360 rotated rectangle center point (normalized);
#X obj 427 292 list split 2;
#X obj 461 382 unpack;
#X floatatom 461 402 5 0 0 0 - - -;
#X floatatom 505 401 5 0 0 0 - - -;
#X obj 461 312 list split 2;
#X text 197 402 rotated rectangle size (normalized);
#X obj 529 452 list split 8;
#X floatatom 525 32 5 0 0 0 - - -;
#X obj 528 57 * 20;
#X obj 532 81 + 2;
#X text 500 13 selected contour;
#X obj 332 164 unpack;
#X floatatom 332 185 5 0 0 0 - - -;
#X floatatom 373 202 5 0 0 0 - - -;
#X text 102 188 number of detected contours;
#X text 93 211 numbers of values for each contour;
#X obj 529 472 list prepend set;
#X obj 529 492 list trim;
#X msg 270 581 0.997283 0.997763 0.0013587 0.997763 0.0013587 0.00111857
0.997283 0.00111857;
#X text 275 563 rotrect corners coordinates;
#X obj 881 431 list split 20;
#X obj 881 453 t b a;
#X obj 928 500 list;
#X msg 908 537 \$15;
#X obj 908 559 +;
#X obj 936 559 f;
#X msg 931 400 0;
#X obj 893 581 f;
#X obj 862 397 t b a b;
#X floatatom 893 603 5 0 0 0 - - -;
#X text 725 603 total number of points;
#X obj 393 262 list split 1;
#X obj 76 288 cnv 15 350 20 empty empty empty 20 12 0 14 -4034 -66577
0;
#X floatatom 393 291 5 0 0 0 - - -;
#X text 175 287 id in the detection order;
#X obj 242 473 cnv 15 250 20 empty empty empty 20 12 0 14 -4034 -66577
0;
#X text 200 474 rotated rectangle angle (degrees);
#X obj 495 432 list split 2;
#X obj 427 342 unpack;
#X floatatom 427 362 5 0 0 0 - - -;
#X floatatom 468 362 5 0 0 0 - - -;
#X obj 456 455 unpack;
#X floatatom 456 475 5 0 0 0 - - -;
#X obj 242 503 cnv 15 250 20 empty empty empty 20 12 0 14 -4034 -66577
0;
#X floatatom 456 505 5 0 0 0 - - -;
#X text 263 504 area in % of image area;
#X obj 415 638 cnv 15 250 80 empty empty empty 20 12 0 14 -4034 -66577
0;
#X floatatom 563 663 5 0 0 0 - - -;
#X floatatom 597 683 5 0 0 0 - - -;
#X text 383 685 length of contour (in pixels);
#X text 439 660 number of points;
#X obj 563 643 unpack f f;
#X obj 441 106 route cvblob count;
#X obj 730 218 unpack f f;
#X floatatom 742 263 5 0 0 0 - - -;
#X floatatom 799 264 5 0 0 0 - - -;
#X obj 870 259 s point_number;
#X text 719 282 contours;
#X text 804 284 points;
#X text 711 310 total counts of contours and points;
#X connect 5 0 63 0;
#X connect 6 0 22 0;
#X connect 6 1 7 0;
#X connect 6 1 39 0;
#X connect 7 0 42 0;
#X connect 11 0 49 0;
#X connect 11 1 15 0;
#X connect 12 0 13 0;
#X connect 12 1 14 0;
#X connect 15 0 12 0;
#X connect 15 1 48 0;
#X connect 17 0 27 0;
#X connect 17 1 62 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 6 1;
#X connect 22 0 23 0;
#X connect 22 1 24 0;
#X connect 22 1 19 1;
#X connect 22 1 7 1;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 31 0 32 0;
#X connect 31 1 33 1;
#X connect 32 0 33 0;
#X connect 32 1 34 0;
#X connect 33 0 31 0;
#X connect 34 0 35 0;
#X connect 35 0 36 0;
#X connect 35 0 38 1;
#X connect 36 0 35 1;
#X connect 37 0 35 1;
#X connect 38 0 40 0;
#X connect 39 0 38 0;
#X connect 39 1 31 0;
#X connect 39 2 37 0;
#X connect 42 0 44 0;
#X connect 42 1 11 0;
#X connect 48 0 52 0;
#X connect 48 1 17 0;
#X connect 49 0 50 0;
#X connect 49 1 51 0;
#X connect 52 0 53 0;
#X connect 52 1 55 0;
#X connect 62 0 58 0;
#X connect 62 1 59 0;
#X connect 63 0 6 0;
#X connect 63 1 64 0;
#X connect 64 0 65 0;
#X connect 64 1 66 0;
#X connect 64 1 67 0;
#X restore 849 560 pd info;
#N canvas 806 0 474 778 draw_rotrect 0;
#X obj 71 506 GEMglVertex2d;
#X obj 71 586 GEMglVertex2d;
#X obj 71 666 GEMglVertex2d;
#X obj 71 746 GEMglVertex2d;
#X obj 71 766 GEMglEnd;
#X obj 71 277 alpha;
#X obj 143 178 list split 1;
#X obj 71 420 GEMglBegin GL_LINE_LOOP;
#X obj 177 198 list split 8;
#X msg 363 324 0 0 0 0 0 0 0 0;
#X obj 32 -8 inlet INFO;
#X obj 71 256 gemhead;
#X obj 15 147 loadbang;
#X msg 15 168 0;
#X obj 71 52 t b a b;
#X obj 211 504 list split 2;
#X obj 177 448 list split 2;
#X obj 137 472 unpack;
#X obj 211 525 unpack;
#X obj 245 564 list split 2;
#X obj 245 585 unpack;
#X obj 279 664 list split 2;
#X obj 279 685 unpack;
#X obj 90 84 list split 2;
#X obj 95 154 list append;
#X obj 292 81 t b;
#X obj 32 32 route 0;
#X floatatom 342 463 5 0 0 0 - - -;
#X obj 342 442 list length;
#X obj 71 400 GEMglLineWidth 1;
#X obj 71 327 translateXYZ -5.3333 4 0;
#X obj 71 361 scaleXYZ 10.6666 -8 0;
#X obj 124 107 list split 20;
#X obj 71 302 color 1 1 0 1;
#X obj 124 128 t b b a;
#X obj 32 13 route info;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 33 0;
#X connect 6 1 8 0;
#X connect 7 0 0 0;
#X connect 8 0 16 0;
#X connect 9 0 16 0;
#X connect 10 0 35 0;
#X connect 11 0 5 0;
#X connect 12 0 13 0;
#X connect 13 0 11 0;
#X connect 14 1 23 0;
#X connect 14 2 25 0;
#X connect 15 0 18 0;
#X connect 15 1 19 0;
#X connect 16 0 17 0;
#X connect 16 1 15 0;
#X connect 17 0 0 1;
#X connect 17 1 0 2;
#X connect 18 0 1 1;
#X connect 18 1 1 2;
#X connect 19 0 20 0;
#X connect 19 1 21 0;
#X connect 20 0 2 1;
#X connect 20 1 2 2;
#X connect 21 0 22 0;
#X connect 22 0 3 1;
#X connect 22 1 3 2;
#X connect 23 1 32 0;
#X connect 24 0 32 0;
#X connect 25 0 9 0;
#X connect 26 1 14 0;
#X connect 28 0 27 0;
#X connect 29 0 7 0;
#X connect 30 0 31 0;
#X connect 31 0 29 0;
#X connect 32 0 34 0;
#X connect 32 1 24 1;
#X connect 33 0 30 0;
#X connect 34 0 24 0;
#X connect 34 1 11 0;
#X connect 34 2 6 0;
#X connect 34 2 28 0;
#X connect 35 0 26 0;
#X restore 853 581 pd draw_rotrect;
#X text 727 78 CVBLOB:;
#X text 746 178 blob size X;
#X text 746 198 blob size Y;
#X text 732 138 center X;
#X text 732 158 center Y;
#X text 730 219 angle;
#X text 729 238 area in % of image size;
#X text 726 431 number of points in segment;
#X text 726 451 length;
#X text 742 473 centroid X;
#X text 742 489 centroid Y;
#X text 729 115 id;
#X text 721 261 corner0 X;
#X text 721 281 corner0 Y;
#X text 741 303 corner1 X;
#X text 741 323 corner1 Y;
#X text 724 342 corner2 X;
#X text 724 362 corner2 Y;
#X text 751 386 corner3 X;
#X text 751 406 corner3 Y;
#N canvas 0 22 1045 746 old_example 0;
#X obj 57 331 gemlist;
#X obj 57 311 t b a;
#X obj 298 316 list append;
#X obj 293 208 list split 2;
#X obj 293 152 list append;
#X obj 69 118 t b a;
#X obj 327 290 t b a;
#X obj 57 521 translateXYZ;
#X msg 198 364 \$2;
#X obj 57 371 alpha 1;
#X obj 57 481 translateXYZ -0.5 -0.5 0;
#X obj 57 545 scaleXYZ 0.125 0.25 0;
#X msg 237 364 \$3;
#X msg 212 478 \$4;
#X obj 241 343 t a a;
#X obj 57 591 circle 0.5;
#X obj 57 441 color 1 0 0 0.2;
#X obj 57 351 separator;
#X msg 277 514 \$1;
#X obj 57 631 color 1 1 0 1;
#X obj 327 256 list split 6;
#X msg 396 204 \$2;
#X obj 144 637 loadbang;
#X msg 144 656 12;
#X msg 299 392 \$6;
#X obj 299 414 > 0;
#X obj 299 435 sel 1 0;
#X msg 298 456 1 0 0 0.2;
#X msg 318 476 0 1 0 0.2;
#X obj 57 611 translateXYZ 0.2 0.2 0;
#X obj 57 461 scaleXYZ 10.666 -8 0;
#X obj 57 692 text2d;
#X text 422 205 <- be careful ! the size of the cvblob matrix could
change;
#X text 504 222 please check second element to gets matrix width (number
of value per blob);
#X obj 293 174 t a a;
#X obj 224 60 route cvblob;
#X obj 210 500 sqrt;
#X obj 69 93 spigot;
#X obj 224 82 t a a;
#X msg 134 98 \$1;
#X floatatom 134 120 5 0 0 0 - - -;
#X text 517 290 here is an example on how to display blobs with Gem
;
#X connect 0 0 17 0;
#X connect 1 0 0 0;
#X connect 1 1 14 0;
#X connect 2 0 20 0;
#X connect 3 1 20 0;
#X connect 4 0 34 0;
#X connect 5 0 4 0;
#X connect 5 1 0 1;
#X connect 6 0 2 0;
#X connect 6 1 1 0;
#X connect 7 0 11 0;
#X connect 8 0 7 1;
#X connect 9 0 16 0;
#X connect 10 0 7 0;
#X connect 11 0 15 0;
#X connect 12 0 7 2;
#X connect 13 0 36 0;
#X connect 14 0 12 0;
#X connect 14 0 8 0;
#X connect 14 1 13 0;
#X connect 14 1 18 0;
#X connect 14 1 24 0;
#X connect 15 0 29 0;
#X connect 16 0 30 0;
#X connect 17 0 9 0;
#X connect 18 0 31 0;
#X connect 19 0 31 0;
#X connect 20 0 6 0;
#X connect 20 1 2 1;
#X connect 21 0 20 1;
#X connect 22 0 23 0;
#X connect 23 0 31 1;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
#X connect 26 1 28 0;
#X connect 27 0 16 1;
#X connect 28 0 16 1;
#X connect 29 0 19 0;
#X connect 30 0 10 0;
#X connect 34 0 3 0;
#X connect 34 1 21 0;
#X connect 35 0 38 0;
#X connect 36 0 11 1;
#X connect 36 0 11 2;
#X connect 37 0 5 0;
#X connect 38 0 4 1;
#X connect 38 1 39 0;
#X connect 39 0 40 0;
#X connect 39 0 37 1;
#X restore 844 613 pd old_example;
#X obj 450 14 inlet;
#X obj 148 115 list split 2;
#X obj 249 123 list split 2;
#X obj 211 183 zexy/repack;
#X obj 252 148 unpack;
#X obj 315 210 t a a;
#X obj 103 327 translateXYZ -4 4 0;
#X obj 103 351 scaleXYZ 8 -8 0;
#X obj 145 559 polygon;
#X obj 112 464 color 0 0 1 1;
#X obj 282 305 list split 1;
#X obj 150 490 loadbang;
#X obj 307 402 list split 8;
#X obj 254 279 list split 6;
#X obj 115 252 gemhead;
#X msg 280 429 \$1 \$2 0 \$3 \$4 0 \$5 \$6 0 \$7 \$8 0;
#X obj 204 215 t b a;
#X text 345 326 area in % of image size;
#X text 391 411 corners;
#X obj 521 593 translateXYZ;
#X obj 569 556 unpack;
#X obj 110 379 t a a;
#X obj 384 478 separator;
#X obj 384 502 pix_separator;
#X obj 111 405 separator;
#X obj 111 429 pix_separator;
#X obj 542 451 list split 2;
#X obj 509 413 list split 1;
#X obj 508 659 text2d;
#X obj 707 589 loadbang;
#X obj 108 289 alpha;
#X msg 149 511 draw line \, width 3;
#X obj 438 297 text set cvblob-contours;
#X obj 444 243 t a b;
#X msg 494 262 1e+10;
#X msg 446 79 list id centerX centerY blobsizeX blobsizeY angle area
cor0X cor0Y cor1X cor1Y cor2X cor2Y cor3X cor3Y npoints length centroidX
centroidY;
#X obj 448 46 t b b;
#X msg 602 24 \; cvblob-contours clear;
#X obj 384 526 color 0.5 0 0.5 1;
#X msg 707 613 10;
#X obj 245 66 t a a;
#X obj 39 143 loadbang;
#X msg 39 167 0;
#X connect 0 0 64 0;
#X connect 24 0 60 0;
#X connect 25 1 27 0;
#X connect 26 0 28 0;
#X connect 27 0 40 0;
#X connect 28 1 27 1;
#X connect 29 0 37 0;
#X connect 29 1 57 0;
#X connect 30 0 31 0;
#X connect 31 0 45 0;
#X connect 33 0 32 0;
#X connect 34 1 36 0;
#X connect 35 0 55 0;
#X connect 36 0 39 0;
#X connect 37 0 51 0;
#X connect 37 1 34 0;
#X connect 38 0 54 0;
#X connect 39 0 32 0;
#X connect 40 0 38 0;
#X connect 40 1 29 0;
#X connect 43 0 52 0;
#X connect 44 0 43 1;
#X connect 44 1 43 2;
#X connect 45 0 48 0;
#X connect 45 1 46 0;
#X connect 46 0 47 0;
#X connect 47 0 62 0;
#X connect 48 0 49 0;
#X connect 49 0 33 0;
#X connect 50 0 44 0;
#X connect 51 0 52 0;
#X connect 51 1 50 0;
#X connect 53 0 63 0;
#X connect 54 0 30 0;
#X connect 55 0 32 0;
#X connect 57 0 56 0;
#X connect 57 1 58 0;
#X connect 58 0 56 1;
#X connect 59 0 57 0;
#X connect 60 0 59 0;
#X connect 60 1 61 0;
#X connect 62 0 43 0;
#X connect 63 0 52 1;
#X connect 64 0 25 0;
#X connect 64 1 26 0;
#X connect 65 0 66 0;
#X connect 66 0 38 0;
#X restore 473 155 pd cvblob;
#N canvas 404 58 744 510 draw_hulls 0;
#X obj 165 175 gemhead;
#X obj 166 232 color 0 1 0 1;
#X obj 207 6 inlet convexhull;
#X obj 170 74 list split 2;
#X obj 158 478 _stack_fill hulls;
#X obj 165 257 translateXYZ -4 4 0;
#X obj 166 286 scaleXYZ 8 -8 0;
#X obj 166 418 polygon;
#X obj 185 342 loadbang;
#X obj 429 21 inlet;
#X obj 43 25 inlet;
#X obj 165 203 alpha;
#X text 491 148 values per point;
#X text 455 115 header:;
#X text 489 134 num of points;
#X text 461 176 point1 (x \, y)... pointN(x \, y);
#X obj 358 228 zexy/repack;
#X obj 358 252 list append 0;
#X obj 358 276 list prepend append;
#X obj 358 300 list trim;
#X obj 358 324 list store;
#X obj 334 207 t b a b;
#X obj 199 117 t b a a;
#X msg 185 366 draw linestrip;
#X obj 39 143 loadbang;
#X msg 39 167 0;
#X connect 0 0 11 0;
#X connect 1 0 5 0;
#X connect 2 0 3 0;
#X connect 3 1 22 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 8 0 23 0;
#X connect 9 0 4 2;
#X connect 10 0 4 0;
#X connect 11 0 1 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 7 0;
#X connect 21 0 20 0;
#X connect 21 1 16 0;
#X connect 21 2 20 1;
#X connect 22 0 0 0;
#X connect 22 1 21 0;
#X connect 22 2 4 1;
#X connect 23 0 7 0;
#X connect 24 0 25 0;
#X connect 25 0 0 0;
#X restore 106 166 pd draw_hulls;
#X obj 68 62 t a b b b;
#X text 121 144 green dot;
#X text 251 144 red triang;
#X text 482 133 blue square;
#X msg 562 71 number of contours \$1 \, number of points \$2;
#X obj 567 103 print count;
#X obj 210 14 inlet;
#X obj 441 12 inlet;
#X obj 70 14 inlet;
#X connect 0 0 7 0;
#X connect 0 1 13 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 4 0 8 1;
#X connect 4 1 5 1;
#X connect 4 2 6 0;
#X connect 9 1 8 0;
#X connect 9 2 5 0;
#X connect 13 0 14 0;
#X connect 15 0 4 0;
#X connect 16 0 0 0;
#X connect 17 0 9 0;
#X restore 732 573 pd draw_contours;
#X obj 343 467 route convexhull;
#X obj 343 496 list split 2;
#X msg 56 681 write ../data/convexhull-db.timid;
#X msg 469 278 convexhull \$1;
#X obj 403 142 route float epsilon area hierarchy contours hull defects
blob repeat settab tabout;
#X obj 329 542 _stack_fill hull;
#X obj 428 74 array define hull;
#X obj 131 608 s draw_result;
#X obj 174 522 t a b b;
#X obj 317 614 array get hull;
#X obj 510 705 print;
#X msg 486 473 \; d_contours tabout 0 \, hierarchy 0 \, contours 0
\, hull 1 \, defects 0 \, blob 0 \, epsilon 2 \, area 30 \, bang;
#X msg 551 601 feature_list 3;
#X text 194 9 HERE i'm getting only convexhull because "contours" crash
(consistency check error in pix_opencv_contours);
#X connect 0 0 3 0;
#X connect 1 0 3 0;
#X connect 2 0 3 0;
#X connect 3 0 31 0;
#X connect 3 1 23 0;
#X connect 4 0 3 0;
#X connect 5 0 3 0;
#X connect 6 0 3 0;
#X connect 7 0 3 0;
#X connect 8 0 3 0;
#X connect 9 0 3 0;
#X connect 10 0 8 0;
#X connect 11 0 3 0;
#X connect 14 0 19 0;
#X connect 15 3 33 0;
#X connect 16 0 25 0;
#X connect 16 1 19 0;
#X connect 17 0 20 0;
#X connect 17 1 18 0;
#X connect 18 0 15 0;
#X connect 19 0 0 0;
#X connect 19 1 28 2;
#X connect 20 0 16 0;
#X connect 20 1 27 0;
#X connect 21 0 17 0;
#X connect 23 0 24 0;
#X connect 24 1 28 1;
#X connect 25 0 15 0;
#X connect 26 0 3 0;
#X connect 27 0 14 0;
#X connect 27 1 1 0;
#X connect 27 2 2 0;
#X connect 27 3 4 0;
#X connect 27 4 5 0;
#X connect 27 5 26 0;
#X connect 27 6 11 0;
#X connect 27 7 6 0;
#X connect 27 8 7 0;
#X connect 27 9 10 0;
#X connect 27 10 9 0;
#X connect 31 0 30 0;
#X connect 31 1 32 0;
#X connect 31 2 28 0;
#X connect 32 0 15 0;
#X connect 35 0 15 0;
#X restore 30 273 pd contours;
#N canvas 302 12 855 644 surf 0;
#X text 290 484 X;
#X text 345 485 Y;
#X obj 45 449 pix_opencv_surf;
#X msg 67 178 nightmode \$1;
#X text 171 181 set nightmode;
#X msg 114 241 mark \$1 \$2;
#X msg 120 264 delete \$1;
#X text 313 265 delete a marker;
#X msg 131 287 clear;
#X text 179 288 delete all markers;
#X msg 146 317 maxmove \$1;
#X text 187 241 mark %x %y : mark a point to track ( max points : 10
);
#X text 231 366 make a delaunay with all points;
#X msg 150 364 delaunay on;
#X msg 152 385 delaunay off;
#X text 262 396 make a delaunay with point 1 and a tolerance of 50
( all points which color is in that range will be included in the delaunay)
;
#X obj 185 264 hradio 15 1 0 8 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X msg 158 408 pdelaunay 1 50;
#X msg 48 149 hessian \$1;
#X msg 149 340 ftolerance \$1;
#X text 274 341 frame tolerance for point recognition ( default : 5
);
#X msg 91 197 mark all;
#X text 161 198 mark all points;
#X msg 101 218 mark none;
#X text 171 219 suppress all marks;
#X text 76 9 pix_opencv_surf : SURF ( Speed Up Robust Features ) points
detection and tracking;
#X text 163 149 hessian threshold ( default 1000 );
#X text 260 317 max movement of a marker ( default 20 pixels );
#X obj 542 82 array define surf;
#X obj 46 495 s draw_result;
#X obj 40 103 _getimg;
#X obj 41 65 route float hessian night all none mark delete clear maxmove
ftolreance on off pdelaunay;
#X msg 50 517 \; d_surf clear \, hessian 1000 \, night 0 \, all \,
maxmove 20 \, ftolreance 5 \, pdelaunay 1 50 \, 0;
#X msg 432 533 \; d_surf delete 0;
#X msg 553 513 \; d_surf all;
#X msg 645 513 \; d_surf none;
#X msg 555 553 \; d_surf on;
#X msg 646 553 \; d_surf off;
#X msg 480 476 \; d_surf mark 100 100 \, mark 120 200;
#X obj 41 39 r d_surf;
#X msg 52 573 \; d_surf clear \, hessian 1500 \, night 0 \, all \,
maxmove 0 \, ftolreance 10 \, on \, 0;
#X obj 452 128 t b;
#X obj 36 123 t b a b;
#X obj 45 472 t a b;
#X obj 146 479 _stack_fill surf;
#X connect 2 0 43 0;
#X connect 2 1 44 1;
#X connect 3 0 2 0;
#X connect 5 0 2 0;
#X connect 6 0 2 0;
#X connect 8 0 2 0;
#X connect 10 0 2 0;
#X connect 13 0 2 0;
#X connect 14 0 2 0;
#X connect 16 0 6 0;
#X connect 17 0 2 0;
#X connect 18 0 2 0;
#X connect 19 0 2 0;
#X connect 21 0 2 0;
#X connect 23 0 2 0;
#X connect 30 0 42 0;
#X connect 31 0 30 0;
#X connect 31 1 18 0;
#X connect 31 2 3 0;
#X connect 31 3 21 0;
#X connect 31 4 23 0;
#X connect 31 5 5 0;
#X connect 31 6 6 0;
#X connect 31 7 8 0;
#X connect 31 8 10 0;
#X connect 31 9 19 0;
#X connect 31 10 13 0;
#X connect 31 11 14 0;
#X connect 31 12 17 0;
#X connect 39 0 31 0;
#X connect 41 0 44 2;
#X connect 42 1 2 0;
#X connect 42 2 41 0;
#X connect 43 0 29 0;
#X connect 43 1 44 0;
#X restore 187 325 pd surf;
#N canvas 312 16 965 645 lines 0;
#X obj 674 45 array define hough_lines;
#X obj 111 104 _getimg;
#X obj 259 558 timbreID;
#X obj 15 103 _iterate_img;
#X obj 15 55 t a b, f 30;
#X msg 282 495 clear;
#X obj 96 141 t a b;
#X obj 349 588 print;
#X obj 301 390 pix_opencv_hough_lines;
#X msg 400 358 nightmode \$1;
#X text 504 361 set nightmode;
#X msg 330 174 mode \$1;
#X obj 426 145 vradio 15 1 0 3 empty empty empty 0 -8 0 10 -262144
-1 -1 1;
#X text 447 145 CV_HOUGH_STANDARD;
#X text 447 159 CV_HOUGH_PROBABILISTIC;
#X text 448 175 CV_HOUGN_MULTI_SCALE;
#X msg 342 205 threshold \$1;
#X msg 356 235 minlength \$1;
#X msg 371 261 gap \$1;
#X text 465 262 gap betwwen lines ( default 10 \, for mode CV_HOUGH_PROBABILISTIC
);
#X text 479 233 minimum length ( default 30 \, for mode CV_HOUGH_PROBABILISTIC
);
#X msg 375 298 aresolution \$1;
#X text 542 328 distance resolution ( default 1 \, for mode CV_HOUGH_MULTI_SCALE
);
#X text 514 297 angle resolution ( default 1 \, for mode CV_HOUGH_MULTI_SCALE
);
#X msg 316 104 maxlines \$1;
#X text 436 101 maximum nuber of lines detected ( default : 10 );
#X text 470 204 threshold ( default 50 );
#X text 335 127 Detection mode ( default : CV_HOUGH_PROBABILISTIC )
;
#X text 614 418 position of each line;
#X text 457 444 X1;
#X text 493 444 Y1;
#X text 530 445 X2;
#X text 566 445 Y2;
#X msg 393 330 dresolution \$1;
#X text 579 175 (WARNING :: only for powerfull machines);
#X obj 264 31 route float maxlines mode thres minlen gap ares dres
nightmode;
#X obj 302 463 s draw_result;
#X obj 402 423 _stack_fill hough_lines;
#X obj 15 29 r d_hough_lines;
#X obj 15 80 route bang;
#X obj 301 426 t a b b;
#X obj 339 496 array get hough_lines;
#X msg 15 495 write ../data/hough_lines-db.timid;
#X msg 417 537 feature_list 9;
#X connect 1 0 6 0;
#X connect 2 3 7 0;
#X connect 3 0 42 0;
#X connect 3 1 6 0;
#X connect 4 0 39 0;
#X connect 4 1 5 0;
#X connect 5 0 2 0;
#X connect 6 0 8 0;
#X connect 6 1 37 2;
#X connect 8 0 40 0;
#X connect 8 1 37 1;
#X connect 9 0 8 0;
#X connect 11 0 8 0;
#X connect 12 0 11 0;
#X connect 16 0 8 0;
#X connect 17 0 8 0;
#X connect 18 0 8 0;
#X connect 21 0 8 0;
#X connect 24 0 8 0;
#X connect 33 0 8 0;
#X connect 35 0 1 0;
#X connect 35 1 24 0;
#X connect 35 2 11 0;
#X connect 35 3 16 0;
#X connect 35 4 17 0;
#X connect 35 5 18 0;
#X connect 35 6 21 0;
#X connect 35 7 33 0;
#X connect 35 8 9 0;
#X connect 38 0 4 0;
#X connect 39 0 3 0;
#X connect 39 1 35 0;
#X connect 40 0 36 0;
#X connect 40 1 41 0;
#X connect 40 2 37 0;
#X connect 41 0 2 0;
#X connect 42 0 2 0;
#X connect 43 0 2 0;
#X restore 30 229 pd lines;
#N canvas 250 0 939 765 lk 0;
#X text 118 480 window size;
#X obj 154 204 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 69 202 nightmode \$1;
#X text 173 205 set nightmode;
#X msg 64 176 quality \$1;
#X msg 50 151 mindistance \$1;
#X text 188 150 set distance ( default 10 );
#X msg 43 123 init;
#X text 112 123 init point detections;
#X msg 95 270 mark \$1 \$2;
#X msg 109 291 delete \$1;
#X text 303 291 delete a marker;
#X msg 117 311 clear;
#X text 165 312 delete all markers;
#X msg 123 331 maxmove \$1;
#X floatatom 199 333 5 0 0 0 - - -;
#X text 364 176 set quality ( default 100 );
#X text 242 514 position of each marked point;
#X obj 23 500 pix_opencv_lk;
#X text 174 271 mark x y : mark a point to track ( max points : 10
);
#X msg 78 225 mark all;
#X msg 88 246 mark none;
#X text 141 226 mark all points;
#X text 158 247 reset all markers;
#X text 223 375 make a delaunay with all points;
#X msg 143 375 delaunay on;
#X msg 151 395 delaunay off;
#X text 270 403 make a delaunay with point 1 and a tolerance of 50
( all points which color is in that range will be included in the delaunay)
;
#X msg 134 351 ftolerance \$1;
#X floatatom 226 351 5 0 0 0 - - -;
#X text 266 351 frame tolerance for point identification ( default
: 5 );
#X obj 177 292 hradio 15 1 0 8 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X text 237 330 max movement of a marker ( default 20 pixels );
#X text 342 18 Corner points detection based on Shi and Tomasi;
#X text 342 6 pix_opencv_lk : Lukas-Kanade corner points tracking;
#X obj 22 37 route float init mindist quality night all none mark delete
clear maxmove ftolerance on off pdelaunay size;
#X obj 22 101 _getimg;
#X obj 472 98 array define lk;
#X obj 19 559 s draw_result;
#X msg 483 517 \; d_lk all;
#X msg 567 516 \; d_lk none;
#X msg 537 475 \; d_lk init;
#X msg 526 551 \; d_lk clear;
#X msg 151 417 pdelaunay \$1 \$2;
#X obj 26 17 r d_lk;
#X msg 35 601 \; d_lk clear \, mindist 1 \, quality 0.5 \, night 1
\, maxmove 50 \, ftolerance 3 \, on \, size 20 \, 0;
#X msg 621 553 \; d_lk delete 0;
#X msg 675 361 \; d_lk 1;
#X obj 21 529 t a b;
#X obj 153 562 _stack_fill lk;
#X obj 22 73 t a b, f 59;
#X connect 1 0 2 0;
#X connect 2 0 18 0;
#X connect 4 0 18 0;
#X connect 5 0 18 0;
#X connect 7 0 18 0;
#X connect 9 0 18 0;
#X connect 10 0 18 0;
#X connect 12 0 18 0;
#X connect 14 0 18 0;
#X connect 15 0 14 0;
#X connect 18 0 48 0;
#X connect 18 1 49 1;
#X connect 20 0 18 0;
#X connect 21 0 18 0;
#X connect 25 0 18 0;
#X connect 26 0 18 0;
#X connect 28 0 18 0;
#X connect 29 0 28 0;
#X connect 31 0 10 0;
#X connect 35 0 50 0;
#X connect 35 1 7 0;
#X connect 35 2 5 0;
#X connect 35 3 4 0;
#X connect 35 4 2 0;
#X connect 35 5 20 0;
#X connect 35 6 21 0;
#X connect 35 7 9 0;
#X connect 35 8 10 0;
#X connect 35 9 12 0;
#X connect 35 10 14 0;
#X connect 35 11 28 0;
#X connect 35 12 25 0;
#X connect 35 13 26 0;
#X connect 35 14 43 0;
#X connect 35 15 18 1;
#X connect 36 0 18 0;
#X connect 43 0 18 0;
#X connect 44 0 35 0;
#X connect 48 0 38 0;
#X connect 48 1 49 0;
#X connect 50 0 36 0;
#X connect 50 1 49 2;
#X restore 186 304 pd lk;
#N canvas 402 45 878 618 circles 0;
#X obj 156 314 pix_opencv_hough_circles;
#X msg 254 279 nightmode \$1;
#X text 358 282 set nightmode;
#X msg 188 174 threshold \$1;
#X msg 173 155 maxcircles \$1;
#X text 303 155 maximum nuber of circles detected ( default : 10 )
;
#X msg 211 193 threshold2 \$1;
#X text 223 207 see documentation of cvHoughCircles for the meaning
of thresholds;
#X msg 236 242 mindist \$1;
#X text 359 241 minimum distance between circles ( default : 30 );
#X msg 241 260 resolution \$1;
#X text 384 261 detector resolution ( default 1 );
#X text 316 173 threshold ( default 100 );
#X text 338 189 threshold2 ( default 10 );
#X text 530 385 X1;
#X text 566 385 Y1;
#X text 633 354 position of each circle;
#X text 603 386 radius;
#X obj 491 35 array define hough_circles;
#X obj 121 94 _getimg;
#X obj 269 468 timbreID;
#X obj 25 93 _iterate_img;
#X obj 25 45 t a b, f 30;
#X msg 292 405 clear;
#X obj 25 70 route bang float;
#X obj 25 19 r d_hough_circles;
#X obj 186 72 route maxcircles thres thres2 mindist resolution nightmode
;
#X obj 438 355 _stack_fill hough_circles;
#X obj 106 131 t a b;
#X obj 349 361 t b b;
#X obj 349 406 array get hough_circles;
#X msg 25 405 write ../data/hough_circles-db.timid;
#X msg 283 531 \; d_hough_circles maxcircles 10 \, thres 100 \, thres2
10 \, mindist 30 \, resolution 1 \, nightmode 0 \, bang;
#X obj 156 338 t a b;
#X obj 156 362 s draw_result;
#X msg 427 447 feature_list 0;
#X obj 359 498 print;
#X connect 0 0 33 0;
#X connect 0 1 27 1;
#X connect 1 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X connect 6 0 0 0;
#X connect 8 0 0 0;
#X connect 10 0 0 0;
#X connect 19 0 28 0;
#X connect 20 3 36 0;
#X connect 21 0 31 0;
#X connect 21 1 28 0;
#X connect 22 0 24 0;
#X connect 22 1 23 0;
#X connect 23 0 20 0;
#X connect 24 0 21 0;
#X connect 24 1 19 0;
#X connect 24 2 26 0;
#X connect 25 0 22 0;
#X connect 26 0 4 0;
#X connect 26 1 3 0;
#X connect 26 2 6 0;
#X connect 26 3 8 0;
#X connect 26 4 10 0;
#X connect 26 5 1 0;
#X connect 28 0 0 0;
#X connect 28 1 27 2;
#X connect 29 0 30 0;
#X connect 29 1 27 0;
#X connect 30 0 20 0;
#X connect 31 0 20 0;
#X connect 33 0 34 0;
#X connect 33 1 29 0;
#X connect 35 0 20 0;
#X restore 30 207 pd circles;
#N canvas 277 22 1003 700 haarcascade 0;
#X obj 246 675 pix_opencv_haarcascade;
#X text 510 784 Xcenter Ycenter Radius;
#X text 338 413 Load a trained cascade classifier from XML file;
#X msg 302 468 mode \$1;
#X msg 312 501 min_size \$1;
#X msg 326 528 min_neighbors \$1;
#X text 487 520 Minimum number (minus 1) of neighbor rectangles that
makes up an object (default 2);
#X msg 355 561 scale_factor \$1;
#X text 510 555 The factor by which the search window is scaled between
the subsequent scans (default 1.1);
#X text 605 754 For each object detected;
#X text 314 697 number of objects detected;
#X text 444 503 Minimum size of object (default 30);
#X msg 383 590 ftolerance \$1;
#X msg 388 614 clear;
#X text 514 598 temporarily ( default 5 );
#X text 514 586 number of frames where an object can disappear;
#X text 433 615 clear markers history;
#X text 385 465 Mode of operation. Currently the only flag that may
be specified is CV_HAAR_DO_CANNY_PRUNING ( 0 );
#X text 272 43 This object considers a contour to be analyzed any group
of white pixels in a black background \, for this reason you will find
useful to use pix_threshold to obtain a correct input for pix_opencv_contours_boundingrect.
;
#X text 289 106 pix_opencv_contours_convexhull works detecting the
bigest white area in the input image \, sometimes you will need to
use pix_opencv_morphology to transform the contours of the shape to
be analyzed..;
#X obj 348 252 route float load mode minsize minneighbors scale ftolerance
clear;
#X obj 370 184 array define haarcascade;
#X obj 242 750 s draw_result;
#X obj 371 210 text define -k haarcascade_classifiers;
#A set /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_eye.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_eye_tree_eyeglasses.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_frontalface_alt.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_frontalface_alt2.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_frontalface_alt_tree.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_frontalface_default.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_fullbody.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_lefteye_2splits.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_lowerbody.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_mcs_eyepair_big.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_mcs_eyepair_small.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_mcs_lefteye.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_mcs_mouth.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_mcs_nose.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_mcs_righteye.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_mcs_upperbody.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_profileface.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_righteye_2splits.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/haarcascade_upperbody.xml
\; /Users/federicocamarahalac/Documents/Pd/externals/pix_opencv/haarcascades/mouth.xml
\;;
#X obj 275 412 symbol;
#X obj 290 372 text get haarcascade_classifiers;
#X obj 381 734 _stack_fill haarcascade;
#X obj 151 434 _getimg;
#X obj 299 888 timbreID;
#X obj 55 433 _iterate_img;
#X obj 55 225 t a b, f 30;
#X msg 322 825 clear;
#X obj 136 471 t a b;
#X obj 364 969 print;
#X obj 79 306 route bang;
#X msg 416 837 feature_list 9;
#X obj 244 712 t a b b;
#X obj 293 778 array get haarcascade;
#X obj 50 152 r d_haarcascade;
#X msg 55 825 write ../data/haarcascade-db.timid;
#X msg 523 949 \; d_haarcascade clear \, load 0 \, mode 0 \, minsize
30 \, minneighbors -1 \, scale 1.1 \, ftolerance 5 \, bang;
#X msg 275 436 load \$1;
#X connect 0 0 36 0;
#X connect 0 2 26 1;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 7 0 0 0;
#X connect 12 0 0 0;
#X connect 13 0 0 0;
#X connect 20 0 27 0;
#X connect 20 1 25 0;
#X connect 20 2 3 0;
#X connect 20 3 4 0;
#X connect 20 4 5 0;
#X connect 20 5 7 0;
#X connect 20 6 12 0;
#X connect 20 7 13 0;
#X connect 24 0 41 0;
#X connect 25 0 24 0;
#X connect 27 0 32 0;
#X connect 28 3 33 0;
#X connect 29 0 39 0;
#X connect 29 1 32 0;
#X connect 30 0 34 0;
#X connect 30 1 31 0;
#X connect 31 0 28 0;
#X connect 32 0 0 0;
#X connect 32 1 26 2;
#X connect 34 0 29 0;
#X connect 34 1 20 0;
#X connect 35 0 28 0;
#X connect 36 0 22 0;
#X connect 36 1 37 0;
#X connect 36 2 26 0;
#X connect 37 0 28 0;
#X connect 38 0 30 0;
#X connect 39 0 28 0;
#X connect 41 0 0 0;
#X restore 30 251 pd haarcascade;
#N canvas 345 135 814 643 floodfill 0;
#X obj 51 405 pix_opencv_floodfill;
#X msg 75 185 mark \$1 \$2;
#X msg 181 341 color \$1;
#X text 269 340 activate color mode ( default : on );
#X msg 104 235 clear;
#X text 158 213 delete a component ( 1 <= index <= 10 );
#X text 153 235 delete all components;
#X text 279 298 set connectivity ( default 4 );
#X text 232 361 lower tolerance ( default 20 );
#X text 238 381 upper tolerance ( default 20 );
#X text 218 497 X;
#X text 255 497 Y;
#X text 287 498 Width;
#X text 325 498 Height;
#X text 149 185 mark x y : mark a component;
#X text 285 30 used in tracking algorithms as an object selector;
#X text 290 6 pdp_opencv_floodfill : mark image components with a specific
color;
#X obj 522 79 array define floodfill;
#X obj 216 437 _array_fill floodfill;
#X obj 51 58 r d_floodfill;
#X obj 51 82 route float mark delete clear fillcolor connectivity color
tolerance;
#X obj 51 120 _getimg;
#X msg 90 213 delete \$1;
#X obj 210 134 list prepend fillcolor;
#X obj 211 159 list trim;
#X msg 169 292 connectivity \$1;
#X obj 181 375 unpack;
#X msg 64 552 \; d_floodfill clear \, mark 200 100 \, fillcolor 0 128
128 238 \, connectivity 8 \, color 1 \, tolerance 20 20 \, 0;
#X obj 51 429 s draw_result;
#X connect 0 0 28 0;
#X connect 0 1 18 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 4 0 0 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 20 1 1 0;
#X connect 20 2 22 0;
#X connect 20 3 4 0;
#X connect 20 4 23 0;
#X connect 20 5 25 0;
#X connect 20 6 2 0;
#X connect 20 7 26 0;
#X connect 21 0 0 0;
#X connect 22 0 0 0;
#X connect 23 0 24 0;
#X connect 24 0 0 0;
#X connect 25 0 0 0;
#X connect 26 0 0 1;
#X connect 26 1 0 2;
#X restore 189 348 pd floodfill;
#N canvas 399 80 765 520 camshift 0;
#X obj 144 345 pix_opencv_camshift;
#X floatatom 271 401 5 0 0 0 - - -;
#X floatatom 310 401 5 0 0 0 - - -;
#X floatatom 348 401 5 0 0 0 - - -;
#X floatatom 387 401 5 0 0 0 - - -;
#X floatatom 428 401 5 0 0 0 - - -;
#X text 298 425 center Y;
#X text 348 415 width;
#X text 383 426 height;
#X text 258 415 center X;
#X text 426 417 angle;
#X text 433 359 for the tracked object;
#X msg 219 235 backproject \$1;
#X text 338 236 show the backproject flow image;
#X msg 177 172 vmin \$1;
#X msg 195 192 vmax \$1;
#X msg 208 214 smin \$1;
#X text 287 192 V pre-filtering maximal value ( default : 256 );
#X text 301 213 S pre-filtering minimal value ( default : 30 );
#X msg 251 298 track \$1 \$2;
#X text 328 296 track %x %y : mark the object to track;
#X msg 230 257 rwidth \$1;
#X msg 239 277 rheight \$1;
#X text 331 257 initial search region width ( default : 20 );
#X text 350 278 initial search region height ( default : 20 );
#X text 278 174 V pre-filtering minimal value ( default : 50 );
#X text 263 19 pix_opencv_camshift : continuously adaptive mean-shift
algorithm to track objects based on a hidden histogram of the hue component
of pixels.;
#X obj 144 369 s draw_result;
#X obj 526 102 array define camshift;
#X obj 48 70 r d_camshift;
#X obj 48 94 route float vmin vmax smin backproject rwidth rheight
track;
#X obj 48 118 _getimg;
#X obj 271 376 _array_fill camshift;
#X msg 72 453 \; d_camshift vmin 50 \, vmax 256 \, smin 30 \, backproject
0 \, rwidth 20 \, rheight 20 \, track 100 100 \, 0;
#X connect 0 0 27 0;
#X connect 0 1 32 0;
#X connect 12 0 0 0;
#X connect 14 0 0 0;
#X connect 15 0 0 0;
#X connect 16 0 0 0;
#X connect 19 0 0 0;
#X connect 21 0 0 0;
#X connect 22 0 0 0;
#X connect 29 0 30 0;
#X connect 30 0 31 0;
#X connect 30 1 14 0;
#X connect 30 2 15 0;
#X connect 30 3 16 0;
#X connect 30 4 12 0;
#X connect 30 5 21 0;
#X connect 30 6 22 0;
#X connect 30 7 19 0;
#X connect 31 0 0 0;
#X restore 201 374 pd camshift;
#N canvas 446 89 571 563 hu_moments 0;
#X obj 121 94 _getimg;
#X obj 269 468 timbreID;
#X obj 25 93 _iterate_img;
#X obj 25 45 t a b, f 30;
#X msg 292 405 clear;
#X obj 106 131 t a;
#X obj 106 239 pix_opencv_hu_moments;
#X msg 138 151 binary \$1;
#X obj 25 70 route bang float binary;
#X msg 25 405 write ../data/hu_moments-db.timid;
#X obj 25 19 r d_hu_moments;
#X msg 313 119 \; d_hu_moments binary 0 \, bang;
#X msg 313 159 \; d_hu_moments binary 1 \, bang;
#X obj 322 503 print;
#X msg 407 307 10;
#X obj 407 331 iterate;
#X msg 407 363 feature_list \$1;
#X connect 0 0 5 0;
#X connect 1 3 13 0;
#X connect 2 0 9 0;
#X connect 2 1 5 0;
#X connect 3 0 8 0;
#X connect 3 1 4 0;
#X connect 4 0 1 0;
#X connect 5 0 6 0;
#X connect 6 1 1 0;
#X connect 7 0 6 0;
#X connect 8 0 2 0;
#X connect 8 1 0 0;
#X connect 8 2 7 0;
#X connect 9 0 1 0;
#X connect 10 0 3 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 1 0;
#X restore 30 185 pd hu_moments;
#N canvas 0 22 873 274 knear 0;
#X msg 208 42 bang;
#X text 247 46 Compare the incoming frame to the patterns;
#X text 313 73 Load a new set of patterns from a directory;
#X text 313 86 All patterns should be of the same size;
#X floatatom 267 147 10 0 0 0 - - -;
#X text 339 148 Distance of the incoming frame compared to the patterns
;
#X obj 268 172 print distance;
#X msg 226 75 load plus 15;
#X obj 41 128 pix_opencv_knear;
#X text 314 101 Directory could be ether relative to patch or absolute
;
#X connect 0 0 8 0;
#X connect 7 0 8 0;
#X connect 8 1 4 0;
#X connect 8 1 6 0;
#X restore 168 55 pd knear;
#N canvas 0 22 719 515 matchshape 0;
#X obj 35 280 pix_opencv_matchshape;
#X msg 104 57 contour 4 2 0 0 0 1 1 1 1 0;
#X msg 90 193 method \$1;
#X floatatom 90 171 5 0 0 0 - - -;
#X msg 114 107 template 4 2 0 0 0 1 1 1 1 0;
#X msg 124 127 template 4 2 2 0 4 1 1 1 1 0;
#X msg 94 37 contour 6 2 0 0 0 1 1 1 1 0 -0.5 -0.5;
#X floatatom 90 221 5 0 0 0 - - -;
#X msg 90 241 threshold \$1;
#X msg 84 18 contour 4 2 2 0 4 1 1 1 1 0;
#X obj 158 311 route match_vec template_vec;
#X obj 158 361 unpack;
#X text 165 344 found corresponding contour;
#X floatatom 158 389 5 0 0 0 - - -;
#X floatatom 193 389 5 0 0 0 - - -;
#X text 157 402 id;
#X text 193 402 absolute difference from template;
#X floatatom 240 332 5 0 0 0 - - -;
#X text 274 329 number of loaded contour;
#X text 242 158 method to compare shape (1 \, 2 or 3 \, please refer
to OpenCV doc for details);
#X text 122 220 threshold behind wich a shape is recognized;
#X text 109 89 template message add a template to library;
#X text 83 0 contour message compare the contour to each loaded contour
;
#X connect 0 1 10 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 8 0;
#X connect 8 0 0 0;
#X connect 9 0 0 0;
#X connect 10 0 11 0;
#X connect 10 1 17 0;
#X connect 11 0 13 0;
#X connect 11 1 14 0;
#X restore 171 82 pd matchshape;
#N canvas 0 22 640 291 histcompare 0;
#X obj 105 55 hradio 15 1 0 5 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X text 188 54 save an histogram at position nth ( 0 <= n <= 80 );
#X floatatom 109 186 5 0 0 0 - - -;
#X obj 171 111 unpack f f f f f;
#X text 264 146 nearest to 1 is the winner;
#X text 145 187 closest histogram (winner);
#X obj 171 139 vsl 15 37 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 194 139 vsl 15 37 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 217 139 vsl 15 37 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 240 139 vsl 15 37 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X text 263 135 matching measure with stored histograms;
#X obj 30 80 pix_opencv_hist_compare;
#X connect 0 0 11 1;
#X connect 3 0 6 0;
#X connect 3 1 7 0;
#X connect 3 2 8 0;
#X connect 3 3 9 0;
#X connect 11 1 2 0;
#X connect 11 2 3 0;
#X restore 172 106 pd histcompare;
#N canvas 0 22 450 300 hu 0;
#X obj 92 314 pix_opencv_hu_compare;
#X floatatom 210 400 30 0 0 0 - - -;
#X text 215 383 distance;
#X obj 426 418 route 1;
#X obj 478 418 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 387 419 < 0.1;
#X obj 487 398 hsl 128 15 0 0.2 0 0 cdist empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X text 507 418 criteria value;
#X floatatom 405 400 10 0 0 0 - - -;
#X text 247 295 calculating their hu moments ( CvMatchShape );
#X text 246 283 compares the contours to the pattern reference contour
;
#X msg 230 252 criteria \$1;
#X obj 314 253 r cdist;
#X text 367 247 criteria value under which the contour is recongnized
;
#X text 365 258 ( adjust to your situation : default : 0.1 );
#X obj 294 202 hradio 15 1 0 3 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X text 345 196 method used for comparison : one of : CV_CONTOURS_MATCH_I1
\, CV_CONTOURS_MATCH_I2 or CV_CONTOURS_MATCH_I3;
#X obj 266 201 + 1;
#X msg 196 201 method \$1;
#X msg 182 174 minsize \$1;
#X floatatom 256 175 5 0 0 0 - - -;
#X text 297 175 minimum size of selected contours ( default : 10x10
);
#X msg 232 223 clear;
#X text 340 223 recalculates the pattern contour;
#X obj 281 224 r reset;
#X floatatom 726 32 5 0 0 0 - - -;
#X obj 794 5 loadbang;
#X msg 763 5 160;
#X obj 695 4 r tresh;
#X floatatom 190 66 5 0 0 0 - - -;
#X obj 258 64 loadbang;
#X msg 230 64 160;
#X obj 191 84 s tresh;
#X obj 704 64 pix_texture;
#X obj 572 31 pix_opencv_threshold;
#X obj 57 85 pix_opencv_threshold;
#X obj 704 92 square 2;
#X obj 572 -23 translateXYZ -2 0 0;
#X obj 573 -55 pix_resize 320 240;
#X obj 52 11 pix_resize 320 240;
#X obj 55 61 translateXYZ 2 0 0;
#X obj 266 334 unpack f f f f f;
#X text 380 334 position of detected contours;
#X floatatom 289 356 5 0 0 0 - - -;
#X floatatom 327 357 5 0 0 0 - - -;
#X floatatom 367 356 5 0 0 0 - - -;
#X floatatom 410 357 5 0 0 0 - - -;
#X text 296 369 X;
#X text 335 368 Y;
#X text 367 368 width;
#X text 408 369 height;
#X obj 52 37 pix_rgba;
#X obj 569 69 pix_rgba;
#X connect 0 1 1 0;
#X connect 0 2 41 0;
#X connect 1 0 5 0;
#X connect 3 0 4 0;
#X connect 5 0 3 0;
#X connect 6 0 5 1;
#X connect 6 0 8 0;
#X connect 11 0 0 0;
#X connect 12 0 11 0;
#X connect 15 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 0 0;
#X connect 19 0 0 0;
#X connect 20 0 19 0;
#X connect 22 0 0 0;
#X connect 24 0 22 0;
#X connect 25 0 34 2;
#X connect 26 0 27 0;
#X connect 27 0 25 0;
#X connect 28 0 25 0;
#X connect 29 0 32 0;
#X connect 29 0 35 2;
#X connect 30 0 31 0;
#X connect 31 0 29 0;
#X connect 33 0 36 0;
#X connect 34 0 33 0;
#X connect 34 0 52 0;
#X connect 35 0 0 0;
#X connect 37 0 34 0;
#X connect 38 0 37 0;
#X connect 39 0 51 0;
#X connect 40 0 35 0;
#X connect 41 1 43 0;
#X connect 41 2 44 0;
#X connect 41 3 45 0;
#X connect 41 4 46 0;
#X connect 51 0 40 0;
#X connect 52 0 0 1;
#X restore 175 129 pd hu;
#N canvas 0 22 823 612 pgh 0;
#X floatatom 164 369 30 0 0 0 - - -;
#X text 169 352 distance;
#X obj 388 387 route 1;
#X obj 440 387 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 441 367 hsl 128 15 0 0.2 0 0 cdist empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X text 463 385 criteria value;
#X floatatom 359 369 10 0 0 0 - - -;
#X msg 136 249 criteria \$1;
#X obj 220 250 r cdist;
#X text 273 244 criteria value under which the contour is recongnized
;
#X msg 121 185 minsize \$1;
#X floatatom 195 186 5 0 0 0 - - -;
#X text 236 186 minimum size of selected contours ( default : 10x10
);
#X msg 138 220 clear;
#X text 246 220 recalculates the pattern contour;
#X obj 187 221 r reset;
#X floatatom 470 129 5 0 0 0 - - -;
#X obj 538 102 loadbang;
#X msg 507 102 160;
#X obj 439 101 r tresh;
#X floatatom 165 117 5 0 0 0 - - -;
#X obj 233 115 loadbang;
#X msg 205 115 160;
#X obj 166 135 s tresh;
#X obj 316 128 pix_opencv_threshold;
#X obj 32 136 pix_opencv_threshold;
#X obj 316 74 translateXYZ -2 0 0;
#X obj 317 42 pix_resize 320 240;
#X obj 31 88 pix_resize 320 240;
#X obj 32 286 pix_opencv_pgh_compare;
#X obj 341 388 < 0.05;
#X text 270 256 ( adjust to your situation : default : 0.05 );
#X obj 202 309 unpack f f f f f;
#X text 316 309 position of detected contours;
#X floatatom 225 331 5 0 0 0 - - -;
#X floatatom 263 332 5 0 0 0 - - -;
#X floatatom 303 331 5 0 0 0 - - -;
#X floatatom 346 332 5 0 0 0 - - -;
#X text 232 344 X;
#X text 271 343 Y;
#X text 303 343 width;
#X text 344 344 height;
#X obj 32 112 pix_rgba;
#X obj 317 98 pix_rgba;
#X connect 0 0 30 0;
#X connect 2 0 3 0;
#X connect 4 0 6 0;
#X connect 4 0 30 1;
#X connect 7 0 29 0;
#X connect 8 0 7 0;
#X connect 10 0 29 0;
#X connect 11 0 10 0;
#X connect 13 0 29 0;
#X connect 15 0 13 0;
#X connect 16 0 24 2;
#X connect 17 0 18 0;
#X connect 18 0 16 0;
#X connect 19 0 16 0;
#X connect 20 0 23 0;
#X connect 20 0 25 2;
#X connect 21 0 22 0;
#X connect 22 0 20 0;
#X connect 24 0 29 1;
#X connect 25 0 29 0;
#X connect 26 0 43 0;
#X connect 27 0 26 0;
#X connect 28 0 42 0;
#X connect 29 1 0 0;
#X connect 29 2 32 0;
#X connect 30 0 2 0;
#X connect 32 1 34 0;
#X connect 32 2 35 0;
#X connect 32 3 36 0;
#X connect 32 4 37 0;
#X connect 42 0 25 0;
#X connect 43 0 24 0;
#X restore 173 154 pd pgh;
#N canvas 552 59 559 543 info 0;
#X obj 124 203 pix_mean_color;
#X obj 131 116 _getimg;
#X obj 194 483 timbreID;
#X obj 35 92 route bang float;
#X obj 35 115 _iterate_img;
#X obj 35 67 t a b, f 30;
#X msg 242 437 clear;
#X obj 101 233 pix_info . . . .;
#X obj 82 285 pack f f f f;
#X obj 153 333 list;
#X obj 169 368 list;
#X obj 194 403 list;
#X obj 35 28 r d_info;
#X obj 124 157 t a;
#X text 267 187 int: image-width;
#X text 267 200 int: image-height;
#X text 267 213 int: bytes per pixel;
#X text 267 226 int: colour-space (openGL-constant);
#X text 268 242 list: <type> <upsidedown> <notowed>;
#X text 268 258 list: <newimage> <newfilm>;
#X text 268 274 list: mean-color <R> <G> <B> <A>;
#X msg 35 437 write ../data/info-db.timid;
#X connect 0 0 7 0;
#X connect 0 1 11 1;
#X connect 1 0 13 0;
#X connect 3 0 4 0;
#X connect 3 1 1 0;
#X connect 4 0 21 0;
#X connect 4 1 13 0;
#X connect 5 0 3 0;
#X connect 5 1 6 0;
#X connect 6 0 2 0;
#X connect 7 1 8 0;
#X connect 7 2 8 1;
#X connect 7 3 8 2;
#X connect 7 4 8 3;
#X connect 7 5 9 1;
#X connect 7 6 10 1;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 2 0;
#X connect 12 0 5 0;
#X connect 13 0 0 0;
#X connect 21 0 2 0;
#X restore 30 61 pd info;
#N canvas 521 70 565 392 histo 0;
#X obj 127 152 pix_histo histogram;
#X obj 62 28 r d_histogram;
#X obj 127 117 _getimg;
#X obj 127 321 timbreID;
#X obj 127 240 array get histogram;
#X obj 62 77 route bang float;
#X obj 326 48 array define histogram 256;
#X obj 31 116 _iterate_img;
#X obj 62 52 t a b, f 30;
#X msg 322 195 clear;
#X msg 31 268 write ../data/histogram-db.timid;
#X obj 127 176 t a b;
#X obj 127 200 s draw_result;
#X connect 0 0 11 0;
#X connect 1 0 8 0;
#X connect 2 0 0 0;
#X connect 4 0 3 0;
#X connect 5 0 7 0;
#X connect 5 1 2 0;
#X connect 7 0 10 0;
#X connect 7 1 0 0;
#X connect 8 0 5 0;
#X connect 8 1 9 0;
#X connect 9 0 3 0;
#X connect 10 0 3 0;
#X connect 11 0 12 0;
#X connect 11 1 4 0;
#X restore 30 38 pd histo;
#N canvas 0 22 450 300 dump 0;
#X obj 33 126 pix_dump;
#X obj 34 58 _getimg;
#X obj 34 82 t b a;
#X obj 34 34 r d_dump;
#X obj 33 218 s draw_result;
#X obj 182 24 array define dump;
#X obj 97 159 _array_fill dump;
#X connect 0 0 4 0;
#X connect 0 1 6 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 2 1 0 0;
#X connect 3 0 1 0;
#X restore 202 399 pd dump;
#N canvas 527 54 463 442 multiblob 0;
#X obj 148 140 / 100;
#X msg 148 161 threshold \$1;
#X obj 164 190 / 100;
#X msg 164 211 blobSize \$1;
#X obj 35 29 r d_multiblob;
#X obj 146 285 list split 3;
#X obj 131 104 _getimg;
#X obj 186 401 timbreID;
#X obj 35 103 _iterate_img;
#X obj 35 55 t a b, f 30;
#X msg 302 335 clear;
#X obj 116 141 t a;
#X obj 35 80 route bang float thres size;
#X msg 35 335 write ../data/multiblob-db.timid;
#X text 306 40 weightedX \; weightedY \; weightedSize \; minX \; minY
\; maxX \; maxY \; size \;;
#X obj 116 249 pix_multiblob 10;
#X connect 0 0 1 0;
#X connect 1 0 15 0;
#X connect 2 0 3 0;
#X connect 3 0 15 0;
#X connect 4 0 9 0;
#X connect 5 1 7 0;
#X connect 6 0 11 0;
#X connect 8 0 13 0;
#X connect 8 1 11 0;
#X connect 9 0 12 0;
#X connect 9 1 10 0;
#X connect 10 0 7 0;
#X connect 11 0 15 0;
#X connect 12 0 8 0;
#X connect 12 1 6 0;
#X connect 12 2 0 0;
#X connect 12 3 2 0;
#X connect 13 0 7 0;
#X connect 15 1 5 0;
#X restore 30 83 pd multiblob;
#X text 33 13 GEM native;
#X text 35 157 CV;
#X text 166 21 CV (comparison);
#X text 170 192 CV (tracking);
#N canvas 0 22 450 300 knn 0;
#N canvas 453 29 827 722 cvblob 0;
#X obj 177 460 translateXYZ;
#X obj 172 300 alpha 1;
#X obj 173 388 translateXYZ -0.5 -0.5 0;
#X obj 177 519 scaleXYZ 0.125 0.25 0;
#X obj 177 546 circle 0.5;
#X obj 172 330 color 1 0 0 0.2;
#X obj 173 263 separator;
#X obj 175 631 color 1 1 0 1;
#X obj 379 616 loadbang;
#X msg 380 641 12;
#X msg 559 281 1 0 0 0.2;
#X msg 589 307 0 1 0 0.2;
#X obj 177 608 translateXYZ 0.2 0.2 0;
#X obj 362 666 text2d;
#X obj 187 13 inlet cvblob;
#X obj 187 35 route cvblob;
#X obj 172 360 scaleXYZ 10.666 -8 0;
#X obj 187 57 t b a;
#X obj 247 93 list split 2;
#X obj 362 124 list split 1;
#X obj 466 152 list split 2;
#X obj 208 434 unpack;
#X obj 512 180 list split 2;
#X obj 274 436 unpack;
#X obj 274 460 sqrt;
#X obj 311 459 sqrt;
#X obj 272 484 / 2;
#X obj 309 486 / 2;
#X obj 554 210 list split 1;
#X obj 557 258 sel;
#X obj 557 237 < 0;
#X obj 559 305 t a;
#X obj 172 221 gemhead -1;
#X obj 131 171 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 39 143 loadbang;
#X msg 39 167 0;
#X connect 0 0 3 0;
#X connect 1 0 5 0;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 4 0 12 0;
#X connect 5 0 16 0;
#X connect 6 0 1 0;
#X connect 7 0 13 0;
#X connect 8 0 9 0;
#X connect 9 0 13 1;
#X connect 10 0 31 0;
#X connect 11 0 31 0;
#X connect 12 0 7 0;
#X connect 14 0 15 0;
#X connect 15 0 17 0;
#X connect 16 0 2 0;
#X connect 17 0 32 0;
#X connect 17 1 18 0;
#X connect 18 1 19 0;
#X connect 19 0 13 0;
#X connect 19 1 20 0;
#X connect 20 0 21 0;
#X connect 20 1 22 0;
#X connect 21 0 0 1;
#X connect 21 1 0 2;
#X connect 22 0 23 0;
#X connect 22 1 28 0;
#X connect 23 0 24 0;
#X connect 23 1 25 0;
#X connect 24 0 26 0;
#X connect 25 0 27 0;
#X connect 26 0 3 1;
#X connect 27 0 3 2;
#X connect 28 0 30 0;
#X connect 29 0 10 0;
#X connect 29 1 11 0;
#X connect 30 0 29 0;
#X connect 31 0 5 1;
#X connect 32 0 6 0;
#X connect 33 0 32 0;
#X connect 34 0 35 0;
#X connect 35 0 32 0;
#X restore 326 128 pd cvblob;
#X obj 144 143 pix_opencv_trackKnn;
#X msg 171 121 reset;
#N canvas 459 196 450 358 find_blobs 0;
#X msg 182 191 epsilon \$1;
#X floatatom 182 174 5 0 0 0 - - -;
#X obj 223 132 loadbang;
#X msg 257 191 area \$1;
#X floatatom 257 174 5 0 0 0 - - -;
#X msg 257 153 10;
#X msg 223 152 2;
#X obj 127 217 pix_opencv_contours;
#X obj 127 96 pix_opencv_threshold;
#X obj 125 118 pix_grey;
#X obj 238 238 route count;
#X obj 127 40 inlet;
#X obj 127 310 outlet;
#N canvas 394 319 562 291 options 0;
#X obj 57 147 tgl 15 1 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 57 167 contours \$1;
#X obj 57 251 outlet;
#X obj 147 147 tgl 15 1 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 247 147 tgl 15 1 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 147 167 convexhulls \$1;
#X msg 247 167 convexitydefects \$1;
#X text 25 37 set hierarchy level (which contour to send out);
#X obj 24 83 nbx 5 14 -2 1e+37 0 1 empty empty empty 0 -8 0 10 -262144
-1 -1 0 256;
#X msg 24 100 hierarchy_level \$1;
#X text 71 125 send out different kind of infos (all on by default)
:;
#X text 25 47 -1 for all contours (default);
#X msg 383 167 cvblobOutput \$1;
#X obj 383 148 tgl 15 1 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X text 25 57 -2 for only contours with no child (aka holes);
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 3 0 5 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 6 0 2 0;
#X connect 8 0 9 0;
#X connect 9 0 2 0;
#X connect 12 0 2 0;
#X connect 13 0 12 0;
#X restore 142 142 pd options;
#X obj 244 74 inlet;
#X connect 0 0 7 0;
#X connect 1 0 0 0;
#X connect 2 0 6 0;
#X connect 2 0 5 0;
#X connect 3 0 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 1 0;
#X connect 7 0 12 0;
#X connect 7 2 10 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 1 12 0;
#X connect 11 0 8 0;
#X connect 13 0 7 0;
#X connect 14 0 8 2;
#X restore 141 95 pd find_blobs;
#X floatatom 257 63 5 0 0 1 binarization_threshold - -;
#X msg 141 22 0;
#X obj 141 46 _getimg;
#X obj 130 212 s draw_result;
#X text 540 9 CVBLOB:;
#X text 531 426 number of points in segment;
#X text 531 446 length;
#X text 537 127 centroid X;
#X text 537 147 centroid Y;
#X text 551 91 id;
#X text 584 252 corner0 X;
#X text 584 272 corner0 Y;
#X text 604 294 corner1 X;
#X text 604 314 corner1 Y;
#X text 587 333 corner2 X;
#X text 587 353 corner2 Y;
#X text 614 377 corner3 X;
#X text 614 397 corner3 Y;
#X text 557 163 angleboundingrect X;
#X text 557 183 angleboundingrect Y;
#X text 541 204 state;
#X text 540 223 area in pixels;
#X obj 301 168 route cvblob;
#X obj 301 209 list split 2;
#X obj 344 252 list split 1;
#X floatatom 322 278 5 0 0 0 - - -;
#X obj 355 327 list split 6;
#X obj 278 459 list split 2;
#X obj 347 487 list split 2;
#X obj 278 483 unpack;
#X floatatom 278 507 5 0 0 0 - - -;
#X floatatom 285 526 5 0 0 0 - - -;
#X obj 358 520 unpack;
#X floatatom 358 544 5 0 0 0 - - -;
#X floatatom 365 563 5 0 0 0 - - -;
#X obj 659 566 unpack;
#X floatatom 659 590 5 0 0 0 - - -;
#X floatatom 666 609 5 0 0 0 - - -;
#X obj 439 527 list split 2;
#X obj 508 555 list split 2;
#X obj 439 551 unpack;
#X floatatom 439 575 5 0 0 0 - - -;
#X floatatom 446 594 5 0 0 0 - - -;
#X obj 519 588 unpack;
#X floatatom 519 612 5 0 0 0 - - -;
#X floatatom 526 631 5 0 0 0 - - -;
#X obj 307 424 list split 8;
#X obj 60 278 list split 2;
#X obj 71 311 unpack;
#X floatatom 71 335 5 0 0 0 - - -;
#X floatatom 78 354 5 0 0 0 - - -;
#X obj 152 318 list split 2;
#X obj 221 346 list split 2;
#X obj 152 342 unpack;
#X floatatom 152 366 5 0 0 0 - - -;
#X floatatom 159 385 5 0 0 0 - - -;
#X obj 232 379 unpack;
#X floatatom 232 403 5 0 0 0 - - -;
#X floatatom 239 422 5 0 0 0 - - -;
#X obj 244 240 unpack;
#X floatatom 244 264 5 0 0 0 - - -;
#X floatatom 251 283 5 0 0 0 - - -;
#X text 533 59 bloblength;
#X text 535 44 blobcount;
#X msg 36 49 \; gemwin bang;
#X connect 1 0 7 0;
#X connect 1 1 0 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X connect 26 0 27 0;
#X connect 27 0 63 0;
#X connect 27 1 28 0;
#X connect 28 0 29 0;
#X connect 28 1 30 0;
#X connect 30 0 51 0;
#X connect 30 1 50 0;
#X connect 31 0 33 0;
#X connect 31 1 32 0;
#X connect 32 0 36 0;
#X connect 32 1 42 0;
#X connect 33 0 34 0;
#X connect 33 1 35 0;
#X connect 36 0 37 0;
#X connect 36 1 38 0;
#X connect 39 0 40 0;
#X connect 39 1 41 0;
#X connect 42 0 44 0;
#X connect 42 1 43 0;
#X connect 43 0 47 0;
#X connect 44 0 45 0;
#X connect 44 1 46 0;
#X connect 47 0 48 0;
#X connect 47 1 49 0;
#X connect 50 0 31 0;
#X connect 50 1 39 0;
#X connect 51 0 52 0;
#X connect 51 1 55 0;
#X connect 52 0 53 0;
#X connect 52 1 54 0;
#X connect 55 0 57 0;
#X connect 55 1 56 0;
#X connect 56 0 60 0;
#X connect 57 0 58 0;
#X connect 57 1 59 0;
#X connect 60 0 61 0;
#X connect 60 1 62 0;
#X connect 63 0 64 0;
#X connect 63 1 65 0;
#X restore 174 216 pd knn;
#N canvas 0 22 785 699 motempl 0;
#X obj 41 489 pix_texture;
#X floatatom 166 521 5 0 0 0 - - -;
#X floatatom 201 521 5 0 0 0 - - -;
#X floatatom 238 521 5 0 0 0 - - -;
#X floatatom 272 521 5 0 0 0 - - -;
#X floatatom 186 571 5 0 0 0 - - -;
#X floatatom 230 570 5 0 0 0 - - -;
#X floatatom 267 570 5 0 0 0 - - -;
#X floatatom 301 570 5 0 0 0 - - -;
#X floatatom 239 626 5 0 0 0 - - -;
#X floatatom 274 626 5 0 0 0 - - -;
#X floatatom 311 626 5 0 0 0 - - -;
#X floatatom 345 626 5 0 0 0 - - -;
#X obj 163 492 unpack 0 0 0 0 0;
#X obj 192 541 unpack 0 0 0 0 0;
#X obj 236 597 unpack 0 0 0 0 0;
#X floatatom 309 520 5 0 0 0 - - -;
#X floatatom 339 570 5 0 0 0 - - -;
#X floatatom 383 626 5 0 0 0 - - -;
#X text 223 459 For each motion component component;
#X text 285 492 (-1) means the whole image;
#X text 360 518 Xcenter Ycenter Width Height Angle;
#X text 381 569 Xcenter Ycenter Width Height Angle;
#X text 428 625 Xcenter Ycenter Width Height Angle;
#X floatatom 155 341 5 0 0 0 - - -;
#X floatatom 265 226 5 0 0 0 - - -;
#X text 195 343 Threshold value. (default 30);
#X msg 83 300 mhi_duration \$1;
#X floatatom 177 137 5 0 0 0 - - -;
#X msg 61 229 max_time_delta \$1;
#X floatatom 234 166 5 0 0 0 - - -;
#X msg 68 251 min_time_delta \$1;
#X floatatom 258 190 5 0 0 0 - - -;
#X msg 78 275 frame_buffer_num \$1;
#X floatatom 182 359 5 0 0 0 - - -;
#X floatatom 193 378 5 0 0 0 - - -;
#X text 233 380 Max size of the motion component (default 500);
#X text 223 359 Min size of the motion component (default 50);
#X text 295 188 Number of frames in the buffer. (default 4);
#X text 220 139 Max time delta in seconds. (default 0.5);
#X text 275 165 Min time delta in seconds. (default 0.05);
#X obj 39 400 pix_opencv_motempl;
#X msg 57 152 aperture \$1;
#X text 165 112 aperture ( 3 \, 5 or 7 \, default 3 );
#X msg 72 107 3;
#X msg 102 111 5;
#X msg 133 111 7;
#X text 302 227 Maximal duration of motion track in seconds;
#X obj 163 441 route -1 1 2 3 4;
#X obj 36 52 pix_resize 320 240;
#X text 204 402 fillcolor of nth component ( 1 < n < 10 );
#X text 145 521 detected components;
#X connect 13 0 1 0;
#X connect 13 1 2 0;
#X connect 13 2 3 0;
#X connect 13 3 4 0;
#X connect 13 4 16 0;
#X connect 14 0 5 0;
#X connect 14 1 6 0;
#X connect 14 2 7 0;
#X connect 14 3 8 0;
#X connect 14 4 17 0;
#X connect 15 0 9 0;
#X connect 15 1 10 0;
#X connect 15 2 11 0;
#X connect 15 3 12 0;
#X connect 15 4 18 0;
#X connect 24 0 41 1;
#X connect 25 0 27 0;
#X connect 27 0 41 0;
#X connect 28 0 29 0;
#X connect 29 0 41 0;
#X connect 30 0 31 0;
#X connect 31 0 41 0;
#X connect 32 0 33 0;
#X connect 33 0 41 0;
#X connect 34 0 41 2;
#X connect 35 0 41 3;
#X connect 41 0 0 0;
#X connect 41 1 48 0;
#X connect 42 0 41 0;
#X connect 44 0 42 0;
#X connect 45 0 42 0;
#X connect 46 0 42 0;
#X connect 48 0 13 0;
#X connect 48 1 14 0;
#X connect 48 2 15 0;
#X connect 49 0 41 0;
#X restore 176 240 pd motempl;
#X restore 92 110 pd analyisis;
#N canvas 769 0 485 778 controls 0;
#X msg 29 408 \; d_haarcascade clear \, load 0 \, mode 0 \, minsize
30 \, minneighbors -1 \, scale 1.1 \, ftolerance 5 \, 0;
#N canvas 4 383 645 273 filters 0;
#X obj 31 -68 tgl 30 0 all_filters all_filters-set all_filters 40 15
0 15 -262144 -1 -1 0 1;
#N canvas 0 22 920 413 d_threshold 0;
#X obj 104 125 tgl 30 0 d_threshold d_threshold-set d_threshold 40
15 0 15 -262144 -1 -1 0 1;
#X obj 478 140 hradio 15 1 0 5 d_threshold_mode d_threshold_mode-set
d_threshold_mode 0 -8 0 15 -262144 -1 -1 0;
#X obj 278 123 hsl 128 15 0 255 0 0 d_threshold_max d_threshold_max-set
d_threshold_max -2 -8 0 15 -262144 -1 -1 0 1;
#X obj 413 124 nbx 5 14 -1e+37 1e+37 0 0 empty d_threshold_max empty
0 -8 0 10 -262144 -1 -1 0 256;
#X obj 278 157 hsl 128 15 0 255 0 0 d_threshold_thres d_threshold_thres-set
d_threshold_thres -2 -8 0 15 -262144 -1 -1 0 1;
#X obj 413 158 nbx 5 14 -1e+37 1e+37 0 0 empty d_threshold_thres empty
0 -8 0 10 -262144 -1 -1 0 256;
#X obj 508 204 r d_threshold_mode;
#X msg 598 344 \; d_threshold mode \$1;
#X obj 367 204 r d_threshold_max;
#X msg 424 350 \; d_threshold max \$1;
#X obj 207 208 r d_threshold_thres;
#X msg 264 354 \; d_threshold thres \$1;
#X obj 24 194 r preprocessing;
#X obj 88 322 spigot;
#X obj 87 373 s preprocess;
#X obj 207 242 t b a;
#X obj 367 238 t b a;
#X obj 508 238 t b a;
#X connect 6 0 17 0;
#X connect 8 0 16 0;
#X connect 10 0 15 0;
#X connect 12 0 13 1;
#X connect 13 0 14 0;
#X connect 15 0 13 0;
#X connect 15 1 11 0;
#X connect 16 0 13 0;
#X connect 16 1 9 0;
#X connect 17 0 13 0;
#X connect 17 1 7 0;
#X coords 0 -1 1 1 580 85 1 100 100;
#X restore 24 54 pd d_threshold;
#N canvas 0 22 1072 618 d_athreshold 0;
#X obj 106 143 tgl 30 0 d_athreshold d_athreshold-set d_athreshold
40 15 0 15 -262144 -1 -1 0 1;
#X obj 272 125 hsl 128 15 0 255 0 0 d_athreshold_dim d_athreshold_dim-set
d_athreshold_dim -2 -8 0 15 -262144 -1 -1 0 1;
#X obj 407 126 nbx 5 14 -1e+37 1e+37 0 0 empty d_athreshold_dim empty
0 -8 0 10 -262144 -1 -1 0 256;
#X obj 272 159 hsl 128 15 0 255 0 0 d_athreshold_max d_athreshold_max-set
d_athreshold_max -2 -8 0 15 -262144 -1 -1 0 1;
#X obj 407 160 nbx 5 14 -1e+37 1e+37 0 0 empty d_athreshold_max empty
0 -8 0 10 -262144 -1 -1 0 256;
#X obj 490 132 hradio 15 1 0 2 d_athreshold_mode d_athreshold_mode-set
d_athreshold_mode 0 -8 0 15 -262144 -1 -1 0;
#X obj 272 193 hsl 128 15 0 255 0 0 d_athreshold_size d_athreshold_size-set
d_athreshold_size -2 -8 0 15 -262144 -1 -1 0 1;
#X obj 407 194 nbx 5 14 -1e+37 1e+37 0 0 empty d_athreshold_size empty
0 -8 0 10 -262144 -1 -1 0 256;
#X obj 490 176 hradio 15 1 0 2 d_athreshold_method d_athreshold_method-set
d_athreshold_method 0 -8 0 15 -262144 -1 -1 1;
#X obj 209 249 r d_athreshold_dim;
#X msg 171 410 \; d_athreshold dim \$1;
#X obj 365 247 r d_athreshold_max;
#X msg 327 408 \; d_athreshold max \$1;
#X obj 519 245 r d_athreshold_mode;
#X msg 481 406 \; d_athreshold mode \$1;
#X obj 842 245 r d_athreshold_method;
#X msg 804 406 \; d_athreshold method \$1;
#X obj 683 243 r d_athreshold_size;
#X msg 645 404 \; d_athreshold size \$1;
#X obj -4 275 r preprocessing;
#X obj 60 403 spigot;
#X obj 59 454 s preprocess;
#X obj 179 323 t b a;
#X obj 339 319 t b a;
#X obj 480 319 t b a;
#X obj 664 318 t b a;
#X obj 805 318 t b a;
#X connect 9 0 22 0;
#X connect 11 0 23 0;
#X connect 13 0 24 0;
#X connect 15 0 26 0;
#X connect 17 0 25 0;
#X connect 19 0 20 1;
#X connect 20 0 21 0;
#X connect 22 0 20 0;
#X connect 22 1 10 0;
#X connect 23 0 20 0;
#X connect 23 1 12 0;
#X connect 24 0 20 0;
#X connect 24 1 14 0;
#X connect 25 0 20 0;
#X connect 25 1 18 0;
#X connect 26 0 20 0;
#X connect 26 1 16 0;
#X coords 0 -1 1 1 580 120 1 100 100;
#X restore 24 143 pd d_athreshold;
#N canvas 0 22 926 618 d_laplace 0;
#X obj 104 123 tgl 30 0 d_laplace d_laplace-set d_laplace 40 15 0 15
-262144 -1 -1 0 1;
#X obj 249 137 hradio 15 1 0 4 d_laplace_size d_laplace_size-set d_laplace_size
0 -8 0 15 -262144 -1 -1 0;
#X obj 223 203 r d_laplace_size;
#X msg 308 352 \; d_laplace size \$1;
#X obj 223 229 * 2;
#X obj 254 229 + 1;
#X obj 279 294 t b a;
#X obj 72 232 r preprocessing;
#X obj 136 360 spigot;
#X obj 135 411 s preprocess;
#X connect 2 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 6 1 3 0;
#X connect 7 0 8 1;
#X connect 8 0 9 0;
#X coords 0 -1 1 1 580 60 1 100 100;
#X restore 24 267 pd d_laplace;
#N canvas 0 22 854 483 d_edge 0;
#X obj 108 121 tgl 30 0 d_edge d_edge-set d_edge 40 15 0 15 -262144
-1 -1 0 1;
#X obj 222 136 hsl 128 15 0 255 0 0 d_edge_thres d_edge_thres-set d_edge_thres
-2 -8 0 15 -262144 -1 -1 0 1;
#X obj 358 137 nbx 5 14 -1e+37 1e+37 0 0 empty d_edge_thres empty 0
-8 0 10 -262144 -1 -1 0 256;
#X obj 326 214 r d_edge_thres;
#X msg 363 343 \; d_edge thres \$1;
#X obj 279 294 t b a;
#X obj 62 246 r preprocessing;
#X obj 136 360 spigot;
#X obj 135 411 s preprocess;
#X connect 3 0 5 0;
#X connect 5 0 7 0;
#X connect 5 1 4 0;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X coords 0 -1 1 1 580 60 1 100 100;
#X restore 24 331 pd d_edge;
#N canvas 509 70 755 387 d_bgstats 0;
#X obj 108 122 tgl 30 0 d_bgstats d_bgstats-set d_bgstats 40 15 0 15
-262144 -1 -1 0 1;
#X obj 244 122 bng 30 250 50 0 d_bgstats_reset d_bgstats_reset-set
d_bgstats_reset 35 15 0 15 -262144 -1 -1;
#X msg 331 359 \; d_bgstats reset;
#X obj 300 209 r d_bgstats_reset;
#X obj 279 294 t b a;
#X obj 72 232 r preprocessing;
#X obj 136 360 spigot;
#X obj 135 411 s preprocess;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 4 1 2 0;
#X connect 5 0 6 1;
#X connect 6 0 7 0;
#X coords 0 -1 1 1 580 60 1 100 100;
#X restore 24 395 pd d_bgstats;
#N canvas 0 22 782 372 d_bgsubtract 0;
#X obj 107 124 tgl 30 0 d_bgsubstract d_bgsubstract-set d_bgsubstract
40 15 0 15 -262144 -1 -1 0 1;
#X obj 282 125 bng 30 250 50 0 d_bgsubstract_set d_bgsubstract_set-set
d_bgsubstract_set 35 15 0 15 -262144 -1 -1;
#X obj 481 136 hsl 128 15 0 255 0 0 d_bgsubstract_thres d_bgsubstract_thres-set
d_bgsubstract_thres -2 -8 0 15 -262144 -1 -1 0 1;
#X obj 616 137 nbx 5 14 -1e+37 1e+37 0 0 empty d_bgsubstract_thres
empty 0 -8 0 10 -262144 -1 -1 0 256;
#X obj 230 191 r d_bgsubstract_set;
#X msg 320 314 \; d_bgsubstract set;
#X msg 475 312 \; d_bgsubstract thres \$1;
#X obj 390 186 r d_bgsubstract_thres;
#X obj 252 252 t b a;
#X obj 51 211 r preprocessing;
#X obj 115 339 spigot;
#X obj 114 390 s preprocess;
#X obj 432 249 t b a;
#X connect 4 0 8 0;
#X connect 7 0 12 0;
#X connect 8 0 10 0;
#X connect 8 1 5 0;
#X connect 9 0 10 1;
#X connect 10 0 11 0;
#X connect 12 0 10 0;
#X connect 12 1 6 0;
#X coords 0 -1 1 1 580 60 1 100 100;
#X restore 23 459 pd d_bgsubtract;
#N canvas 0 22 1164 618 d_colorfilt 0;
#X obj 109 173 tgl 30 0 d_colorfilt d_colorfilt-set d_colorfilt 40
15 0 15 -262144 -1 -1 0 1;
#X obj 279 128 hsl 128 15 0 255 0 0 d_colorfilt_tolerance d_colorfilt_tolerance-set
d_colorfilt_tolerance -2 -8 0 15 -262144 -1 -1 0 1;
#X obj 414 129 nbx 5 14 -1e+37 1e+37 0 0 empty d_colorfilt_tolerance
empty 0 -8 0 10 -262144 -1 -1 0 256;
#X obj 494 126 nbx 5 14 -1e+37 1e+37 0 0 d_colorfilt-X d_colorfilt-X-set
d_colorfilt-X 0 -8 0 10 -262144 -1 -1 0 256;
#X obj 577 125 nbx 5 14 -1e+37 1e+37 0 0 d_colorfilt-Y d_colorfilt-Y-set
d_colorfilt-Y 0 -8 0 10 -262144 -1 -1 0 256;
#X obj 494 145 bng 30 250 50 0 d_colorfilt_pick d_colorfilt_pick-set
d_colorfilt_pick 35 15 0 15 -262144 -1 -1;
#X obj 275 174 hsl 128 15 0 255 0 0 d_colorfilt_select-R d_colorfilt_select-R-set
d_colorfilt_select-R -2 -8 0 15 -261234 -1 -1 0 1;
#X obj 410 175 nbx 5 14 -1e+37 1e+37 0 0 empty d_colorfilt_select-R
empty 0 -8 0 10 -262144 -1 -1 0 256;
#X obj 275 204 hsl 128 15 0 255 0 0 d_colorfilt_select-G d_colorfilt_select-G-set
d_colorfilt_select-G -2 -8 0 15 -204786 -1 -1 0 1;
#X obj 275 235 hsl 128 15 0 255 0 0 d_colorfilt_select-B d_colorfilt_select-B-set
d_colorfilt_select-B -2 -8 0 15 -204800 -1 -1 0 1;
#X obj 410 204 nbx 5 14 -1e+37 1e+37 0 0 empty d_colorfilt_select-G
empty 0 -8 0 10 -262144 -1 -1 0 256;
#X obj 411 235 nbx 5 14 -1e+37 1e+37 0 0 empty d_colorfilt_select-B
empty 0 -8 0 10 -262144 -1 -1 0 256;
#X obj 494 215 bng 30 250 50 0 d_colorfilt_rgb d_colorfilt_rgb-set
d_colorfilt_rgb 35 15 0 15 -262144 -1 -1;
#X obj 122 282 r d_colorfilt_pick;
#X msg 302 516 \; d_colorfilt pick \$1 \$2;
#X obj 325 285 r d_colorfilt_tolerance;
#X msg 519 511 \; d_colorfilt tolerance \$1;
#X obj 750 61 r gemmouse-click-XY;
#X obj 196 329 r d_colorfilt-Y;
#X obj 149 305 r d_colorfilt-X;
#X obj 155 333 pack;
#X obj 131 357 list;
#X obj 746 156 r d_colorfilt_selected;
#X msg 746 180 \; d_colorfilt_select-R-set set \$1 \; d_colorfilt_select-G-set
set \$2 \; d_colorfilt_select-B-set set \$3;
#X msg 750 90 \; d_colorfilt-X-set \$1 \; d_colorfilt-Y-set \$2 \;
d_colorfilt_pick-set bang;
#X obj 588 279 r d_colorfilt_rgb;
#X obj 608 303 r d_colorfilt_select-R;
#X obj 624 325 r d_colorfilt_select-G;
#X obj 648 349 r d_colorfilt_select-B;
#X obj 610 375 pack f f f;
#X obj 595 401 list;
#X msg 760 517 \; d_colorfilt rgb \$1 \$2 \$3;
#X obj 224 420 t b a;
#X obj 25 401 r preprocessing;
#X obj 81 486 spigot;
#X obj 80 537 s preprocess;
#X obj 444 430 t b a;
#X obj 677 459 t b a;
#X connect 13 0 21 0;
#X connect 15 0 36 0;
#X connect 17 0 24 0;
#X connect 18 0 20 1;
#X connect 19 0 20 0;
#X connect 20 0 21 1;
#X connect 21 0 32 0;
#X connect 22 0 23 0;
#X connect 25 0 30 0;
#X connect 26 0 29 0;
#X connect 27 0 29 1;
#X connect 28 0 29 2;
#X connect 29 0 30 1;
#X connect 30 0 37 0;
#X connect 32 0 34 0;
#X connect 32 1 14 0;
#X connect 33 0 34 1;
#X connect 34 0 35 0;
#X connect 36 0 34 0;
#X connect 36 1 16 0;
#X connect 37 0 34 0;
#X connect 37 1 31 0;
#X coords 0 -1 1 1 580 160 1 100 100;
#X restore 23 523 pd d_colorfilt;
#N canvas 0 22 885 568 d_distrans 0;
#X obj 105 127 tgl 30 0 d_distrans d_distrans-set d_distrans 40 15
0 15 -262144 -1 -1 0 1;
#X obj 412 121 hradio 15 1 0 2 d_distrans_voronoi d_distrans_voronoi-set
d_distrans_voronoi 0 -8 0 15 -262144 -1 -1 1;
#X obj 411 151 hradio 15 1 0 3 d_distrans_mask d_distrans_mask-set
d_distrans_mask 0 -8 0 15 -262144 -1 -1 0;
#X obj 255 142 hsl 128 15 0 255 0 0 d_distrans_thres d_distrans_thres-set
d_distrans_thres -2 -8 0 15 -262144 -1 -1 0 1;
#X obj 152 258 r d_distrans_thres;
#X obj 331 229 r d_distrans_mask;
#X obj 331 253 * 2;
#X obj 331 277 + 1;
#X obj 362 254 sel 1;
#X msg 362 278 0;
#X msg 265 442 \; d_distrans thres \$1;
#X msg 435 446 \; d_distrans mask \$1;
#X obj 584 262 r d_distrans_voronoi;
#X msg 641 448 \; d_distrans voronoi \$1;
#X obj 400 321 t b a;
#X obj 197 330 t b a;
#X obj 574 315 t b a;
#X obj 14 334 r preprocessing;
#X obj 70 419 spigot;
#X obj 69 470 s preprocess;
#X connect 4 0 15 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 8 1 14 0;
#X connect 9 0 14 0;
#X connect 12 0 16 0;
#X connect 14 0 18 0;
#X connect 14 1 11 0;
#X connect 15 0 18 0;
#X connect 15 1 10 0;
#X connect 16 0 18 0;
#X connect 16 1 13 0;
#X connect 17 0 18 1;
#X connect 18 0 19 0;
#X coords 0 -1 1 1 580 75 1 100 100;
#X restore 23 687 pd d_distrans;
#N canvas 0 22 809 416 d_dft 0;
#X obj 106 124 tgl 30 0 d_dft d_dft-set d_dft 40 15 0 15 -262144 -1
-1 0 1;
#X obj 57 213 r preprocessing;
#X obj 113 298 spigot;
#X obj 112 349 s preprocess;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X coords 0 -1 1 1 580 60 1 100 100;
#X restore 23 766 pd d_dft;
#N canvas 146 23 354 269 all_filters 0;
#X obj 45 30 r all_filters;
#X msg 45 66 \; d_colorfilt-set \$1 \; d_bgstats-set \$1 \; d_bgsubstract-set
\$1 \; d_threshold-set \$1 \; d_athreshold-set \$1 \; d_edge-set \$1
\; d_laplace-set \$1 \; d_distrans-set \$1 \; d_dft-set \$1 \;;
#X obj 183 17 loadbang;
#X msg 183 41 \; all_filters-set 0;
#X connect 0 0 1 0;
#X connect 2 0 3 0;
#X restore 189 -62 pd all_filters;
#X obj 73 1091 cnv 15 500 15 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 73 -89 cnv 15 500 15 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 32 -27 tgl 30 0 preprocessing preprocessing-set preprocessing
40 15 0 15 -262144 -1 -1 0 1;
#X obj 433 -77 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 433 -57 metro 500;
#X msg 260 -9 \; store_preprocess bang;
#X floatatom 528 -75 5 0 0 0 - - -;
#X msg 435 -7 \; display_preprocess \$1;
#X obj 434 -32 f;
#X connect 14 0 15 0;
#X connect 15 0 19 0;
#X connect 17 0 19 1;
#X connect 19 0 18 0;
#X restore 379 19 pd filters;
#X msg 26 350 \; d_lk init \, clear \, mindist 10 \, quality 0.1 \,
night 0 \, maxmove 20 \, ftolerance 5 \, on \, pdelaunay 1 500 \, size
30 \, 0;
#X msg 106 643 \; d_contours hierarchy -2 \, contours 0 \, hulls 1
\, defects 1 \, blob 1 \, tabout 0 \; d_contours epsilon 2 \, area
30 \; d_contours 0;
#X msg 61 563 \; d_contours hierarchy -1 \, contours 0 \, hulls 1 \,
defects 1 \, blob 1 \, tabout 0 \; d_contours epsilon 2 \, area 30
\; d_contours 0;
#X msg 27 480 \; d_contours hierarchy 0 \, contours 0 \, hulls 1 \,
defects 1 \, blob 1 \, tabout 0 \; d_contours epsilon 2 \, area 30
\; d_contours 0;
#N canvas 0 22 450 300 crash 0;
#X msg 26 53 \; d_floodfill clear \, mark 200 100 \, fillcolor 0 128
128 238 \, connectivity 8 \, color 1 \, tolerance 20 20 \, 0;
#X msg 33 146 \; d_camshift vmin 50 \, vmax 256 \, smin 30 \, backproject
0 \, rwidth 20 \, rheight 20 \, track 100 100 \, 0;
#X restore 291 21 pd crash;
#X msg 21 76 \; d_histogram bang \; d_info bang \; d_multiblob thres
10 \, size 30 \, bang \; d_hu_moments binary 0 \, bang \; d_hough_lines
maxlines 10 \, mode 1 \, thres 20 \, minlen 10 \, gap 10 \, ares 10
\, dres 20 \, nightmode 0 \, bang \; d_hough_circles maxcircles 10
\, thres 100 \, thres2 10 \, mindist 30 \, resolution 1 \, nightmode
0 \, bang \; d_haarcascade clear \, load 0 \, mode 0 \, minsize 30
\, minneighbors -1 \, scale 1.1 \, ftolerance 5 \, bang;
#X restore 19 172 pd controls;
#N canvas 148 177 450 300 result 0;
#X obj 264 32 pix_buffer result 1;
#X obj 37 138 gemhead;
#X obj 37 162 t a b;
#X obj 37 186 pix_buffer_read result;
#X msg 129 155 0;
#X obj 37 210 pix_texture;
#X obj 222 231 pix_buffer_write result;
#X obj 222 198 t a b;
#X msg 268 198 0;
#X obj 37 44 r draw_result;
#X obj 222 136 separator;
#X obj 222 167 pix_separator;
#X obj 37 68 t b a;
#X obj 37 234 square 4;
#X obj 160 46 loadbang;
#X msg 160 70 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 3 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 13 0;
#X connect 7 0 6 0;
#X connect 7 1 8 0;
#X connect 8 0 6 1;
#X connect 9 0 12 0;
#X connect 10 0 11 0;
#X connect 11 0 7 0;
#X connect 12 0 1 0;
#X connect 12 1 10 0;
#X connect 14 0 15 0;
#X connect 15 0 1 0;
#X restore 21 139 pd result;
#N canvas 0 22 450 300 gemmouse-click-XY 0;
#X obj 73 78 gemmouse;
#X obj 73 120 pack;
#X obj 112 122 change;
#X obj 112 146 sel;
#X obj 77 147 list;
#X obj 77 174 s gemmouse-click-XY;
#X connect 0 0 1 0;
#X connect 0 1 1 1;
#X connect 0 2 2 0;
#X connect 1 0 4 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X restore 20 197 pd gemmouse-click-XY;
#N canvas 644 37 628 522 preprocess 0;
#X obj 169 104 _getimg;
#X obj 160 366 s draw_result;
#X obj 173 45 r display_preprocess;
#X obj 176 165 d_threshold;
#X obj 54 432 pix_buffer_write img;
#X obj 124 333 t a a;
#X obj 175 73 t f f;
#X obj 330 111 + 10;
#X obj 57 379 gemlist;
#X obj 27 46 r store_preprocess;
#X obj 176 186 d_athreshold;
#X obj 177 211 d_laplace;
#X obj 180 237 d_edge;
#X obj 172 134 d_colorfilt;
#X obj 180 261 d_distrans;
#X obj 180 287 d_dft;
#X connect 0 0 13 0;
#X connect 2 0 6 0;
#X connect 3 0 10 0;
#X connect 5 0 8 1;
#X connect 5 1 1 0;
#X connect 6 0 0 0;
#X connect 6 1 7 0;
#X connect 7 0 4 1;
#X connect 8 0 4 0;
#X connect 9 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 14 0;
#X connect 13 0 3 0;
#X connect 14 0 15 0;
#X connect 15 0 5 0;
#X restore 92 139 pd preprocess;
#N canvas 263 87 450 300 backup 0;
#X msg 111 20 sh backup;
#X obj 111 69 ggee/shell;
#X obj 111 93 print;
#X msg 197 32 ls ../txt/;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 3 0 1 0;
#X restore 299 135 pd backup;
#N canvas 186 17 1088 735 writer 0;
#X msg 25 124 mean_color \, dump \, histogram \, info \, multiblob
\, floodfill \, camshift \, hu_moments \, hough_circles \, hough_lines
\, lk \, haarcascade;
#X msg 32 233 \; d_\$2 \$1 \; \$2 write ../txt/\$1-\$2.txt \;;
#X obj 28 187 list prepend 0;
#X msg 16 52 0 \, 1 \, 2 \, 4 \, 6 \, 8;
#X obj 16 76 t b f;
#X msg 161 35 0;
#X obj 14 578 t a b;
#X obj 172 388 text define -k commands;
#A set d_mean_color 0 \; mean_color write ../txt/0-mean_color.txt \;
d_dump 0 \; dump write ../txt/0-dump.txt \; d_histogram 0 \; histogram
write ../txt/0-histogram.txt \; d_info 0 \; info write ../txt/0-info.txt
\; d_multiblob thres 10 \, size 30 \, 0 \; multiblob write ../txt/0-multiblob.txt
\; d_floodfill clear \, mark 200 100 \, fillcolor 0 128 128 238 \,
connectivity 8 \, color 1 \, tolerance 20 20 \, 0 \; floodfill write
../txt/0-floodfill.txt \; d_camshift vmin 50 \, vmax 256 \, smin 30
\, backproject 0 \, rwidth 20 \, rheight 20 \, track 100 100 \, 0 \;
camshift write ../txt/0-camshift.txt \; d_hu_moments binary 0 \, 0
\; hu_moments write ../txt/0-hu_moments.txt \; d_hough_circles maxcircles
10 \, thres 100 \, thres2 10 \, mindist 30 \, resolution 1 \, nightmode
0 \, 0 \; hough_circles write ../txt/0-hough_circles.txt \; d_hough_lines
maxlines 10 \, mode 1 \, thres 50 \, minlen 30 \, gap 10 \, ares 1
\, dres 1 \, nightmode 0 \, 0 \; hough_lines write ../txt/0-hough_lines.txt
\; d_lk 0 \; lk write ../txt/0-lk.txt \; d_haarcascade 0 \; haarcascade
write ../txt/0-haarcascade.txt \; d_mean_color 1 \; mean_color write
../txt/1-mean_color.txt \; d_dump 1 \; dump write ../txt/1-dump.txt
\; d_histogram 1 \; histogram write ../txt/1-histogram.txt \; d_info
1 \; info write ../txt/1-info.txt \; d_multiblob 1 \; multiblob write
../txt/1-multiblob.txt \; d_floodfill 1 \; floodfill write ../txt/1-floodfill.txt
\; d_camshift 1 \; camshift write ../txt/1-camshift.txt \; d_hu_moments
1 \; hu_moments write ../txt/1-hu_moments.txt \; d_hough_circles 1
\; hough_circles write ../txt/1-hough_circles.txt \; d_hough_lines
1 \; hough_lines write ../txt/1-hough_lines.txt \; d_lk 1 \; lk write
../txt/1-lk.txt \; d_haarcascade 1 \; haarcascade write ../txt/1-haarcascade.txt
\; d_mean_color 2 \; mean_color write ../txt/2-mean_color.txt \; d_dump
2 \; dump write ../txt/2-dump.txt \; d_histogram 2 \; histogram write
../txt/2-histogram.txt \; d_info 2 \; info write ../txt/2-info.txt
\; d_multiblob 2 \; multiblob write ../txt/2-multiblob.txt \; d_floodfill
2 \; floodfill write ../txt/2-floodfill.txt \; d_camshift 2 \; camshift
write ../txt/2-camshift.txt \; d_hu_moments 2 \; hu_moments write ../txt/2-hu_moments.txt
\; d_hough_circles 2 \; hough_circles write ../txt/2-hough_circles.txt
\; d_hough_lines 2 \; hough_lines write ../txt/2-hough_lines.txt \;
d_lk 2 \; lk write ../txt/2-lk.txt \; d_haarcascade 2 \; haarcascade
write ../txt/2-haarcascade.txt \; d_mean_color 4 \; mean_color write
../txt/4-mean_color.txt \; d_dump 4 \; dump write ../txt/4-dump.txt
\; d_histogram 4 \; histogram write ../txt/4-histogram.txt \; d_info
4 \; info write ../txt/4-info.txt \; d_multiblob 4 \; multiblob write
../txt/4-multiblob.txt \; d_floodfill 4 \; floodfill write ../txt/4-floodfill.txt
\; d_camshift 4 \; camshift write ../txt/4-camshift.txt \; d_hu_moments
4 \; hu_moments write ../txt/4-hu_moments.txt \; d_hough_circles 4
\; hough_circles write ../txt/4-hough_circles.txt \; d_hough_lines
4 \; hough_lines write ../txt/4-hough_lines.txt \; d_lk 4 \; lk write
../txt/4-lk.txt \; d_haarcascade 4 \; haarcascade write ../txt/4-haarcascade.txt
\; d_mean_color 6 \; mean_color write ../txt/6-mean_color.txt \; d_dump
6 \; dump write ../txt/6-dump.txt \; d_histogram 6 \; histogram write
../txt/6-histogram.txt \; d_info 6 \; info write ../txt/6-info.txt
\; d_multiblob 6 \; multiblob write ../txt/6-multiblob.txt \; d_floodfill
6 \; floodfill write ../txt/6-floodfill.txt \; d_camshift 6 \; camshift
write ../txt/6-camshift.txt \; d_hu_moments 6 \; hu_moments write ../txt/6-hu_moments.txt
\; d_hough_circles 6 \; hough_circles write ../txt/6-hough_circles.txt
\; d_hough_lines 6 \; hough_lines write ../txt/6-hough_lines.txt \;
d_lk 6 \; lk write ../txt/6-lk.txt \; d_haarcascade 6 \; haarcascade
write ../txt/6-haarcascade.txt \; d_mean_color 8 \; mean_color write
../txt/8-mean_color.txt \; d_dump 8 \; dump write ../txt/8-dump.txt
\; d_histogram 8 \; histogram write ../txt/8-histogram.txt \; d_info
8 \; info write ../txt/8-info.txt \; d_multiblob 8 \; multiblob write
../txt/8-multiblob.txt \; d_floodfill 8 \; floodfill write ../txt/8-floodfill.txt
\; d_camshift 8 \; camshift write ../txt/8-camshift.txt \; d_hu_moments
8 \; hu_moments write ../txt/8-hu_moments.txt \; d_hough_circles 8
\; hough_circles write ../txt/8-hough_circles.txt \; d_hough_lines
8 \; hough_lines write ../txt/8-hough_lines.txt \; d_lk 8 \; lk write
../txt/8-lk.txt \; d_haarcascade 8 \; haarcascade write ../txt/8-haarcascade.txt
\;;
#X obj 15 685 text set commands;
#X obj 15 661 list;
#X msg 242 352 clear;
#X msg 67 654 1000;
#X msg 16 602 d_\$2 \$1 \, \$2 write ../txt/\$1-\$2.txt;
#X msg 571 34 0 \, 1 \, 2 \, 4 \, 6 \, 8;
#X msg 23 451 mean_color \, dump \, histogram \, info \, multiblob
\, floodfill \, camshift \, hu_moments \, hough_circles \, hough_lines
\, lk \, haarcascade;
#X obj 43 535 list prepend 0;
#X msg 22 390 0 \, 1 \, 2 \, 4 \, 6 \, 8;
#X obj 22 414 t b f;
#N canvas 0 22 450 300 crashes 0;
#X msg 27 80 \; d_floodfill clear \, mark 200 100 \, fillcolor 0 128
128 238 \, connectivity 8 \, color 1 \, tolerance 20 20 \, \$1 \; floodfill
write ../txt/\$1-floodfill.txt \;;
#X msg 25 54 0;
#X connect 1 0 0 0;
#X restore 381 601 pd crashes;
#X msg 559 74 \; d_mean_color \$1 \; mean_color write ../txt/\$1-mean_color.txt
\; \; d_dump \$1 \; dump write ../txt/\$1-dump.txt \; \; d_histogram
\$1 \; histogram write ../txt/\$1-histogram.txt \; \; d_info \$1 \;
info write ../txt/\$1-info.txt \; \; d_multiblob thres 10 \, size 30
\, \$1 \; multiblob write ../txt/\$1-multiblob.txt \; \; d_camshift
vmin 50 \, vmax 256 \, smin 30 \, backproject 0 \, rwidth 20 \, rheight
20 \, track 100 100 \, \$1 \; camshift write ../txt/\$1-camshift.txt
\; \; d_hu_moments binary 0 \, \$1 \; hu_moments write ../txt/\$1-hu_moments.txt
\; \; d_hough_circles maxcircles 10 \, thres 100 \, thres2 10 \, mindist
30 \, resolution 1 \, nightmode 0 \, \$1 \; hough_circles write ../txt/\$1-hough_circles.txt
\; \; d_hough_lines maxlines 10 \, mode 1 \, thres 50 \, minlen 30
\, gap 10 \, ares 1 \, dres 1 \, nightmode 0 \, \$1 \; hough_lines
write ../txt/\$1-hough_lines.txt \; \; d_lk init \, clear \, mindist
10 \, quality 0.1 \, night 0 \, maxmove 20 \, ftolerance 5 \, on \,
pdelaunay 1 500 \, size 30 \, \$1 \; lk write ../txt/\$1-lk.txt \;
\; d_haarcascade clear \, load 0 \, mode 0 \, minsize 30 \, minneighbors
-1 \, scale 1.1 \, ftolerance 5 \, \$1 \; haarcascade write ../txt/\$1-haarcascade.txt
\; \; d_contours hierarchy 0 \, contours 0 \, hulls 1 \, defects 1
\, blob 1 \, tabout 0 \, epsilon 2 \, area 30 \, \$1 \; defects write
../txt/\$1-contours-defects.txt \; hulls write ../txt/\$1-contours-hulls.txt
\; \;;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 4 0 0 0;
#X connect 4 1 2 1;
#X connect 5 0 4 0;
#X connect 6 0 12 0;
#X connect 6 1 11 0;
#X connect 9 0 8 0;
#X connect 10 0 7 0;
#X connect 11 0 8 1;
#X connect 12 0 9 0;
#X connect 13 0 19 0;
#X connect 14 0 15 0;
#X connect 16 0 17 0;
#X connect 17 0 14 0;
#X connect 17 1 15 1;
#X restore 21 254 pd writer;
#X msg 290 71 \; init bang;
#X obj 23 47 r gemwin;
#X obj 23 74 gemwin;
#N canvas 505 87 584 529 load 0;
#X obj 219 416 del 10;
#X obj 39 459 pix_buffer img;
#X msg 334 200 resize \$1;
#X obj 39 370 list;
#X obj 39 337 list;
#X msg 39 402 open \$3/\$2 \$1;
#X obj 109 200 symbol;
#X obj 204 200 symbol;
#X obj 39 163 f;
#X obj 39 109 t b b b;
#X obj 145 78 list split 1;
#X obj 203 122 list split 1;
#X msg 109 253 set \$1;
#X obj 71 299 makefilename not-set-yet;
#X obj 39 257 t f f;
#X obj 109 229 makefilename %s-%%d.jpg;
#X obj 39 200 iterate;
#X msg 275 409 \; gemwin destroy \, reset \, dimen 300 300 \; gemwin
buffer 1 \;;
#X msg 219 467 \; gemwin create;
#X obj 145 122 t f f;
#X obj 39 61 t b a;
#X text 287 357 after all images are loaded start Gem;
#X obj 39 31 r load;
#X obj 39 483 v num_images;
#X obj 421 22 v num_images;
#X obj 219 360 t b b b;
#X connect 0 0 18 0;
#X connect 1 0 23 0;
#X connect 2 0 1 0;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 1 0;
#X connect 6 0 15 0;
#X connect 7 0 3 1;
#X connect 8 0 16 0;
#X connect 9 0 8 0;
#X connect 9 1 6 0;
#X connect 9 2 7 0;
#X connect 10 0 19 0;
#X connect 10 1 11 0;
#X connect 11 0 6 1;
#X connect 11 1 7 1;
#X connect 12 0 13 0;
#X connect 13 0 4 1;
#X connect 14 0 4 0;
#X connect 14 1 13 0;
#X connect 15 0 12 0;
#X connect 16 0 14 0;
#X connect 16 1 25 0;
#X connect 19 0 8 1;
#X connect 19 1 2 0;
#X connect 20 0 9 0;
#X connect 20 1 10 0;
#X connect 22 0 20 0;
#X connect 25 0 0 0;
#X connect 25 1 17 0;
#X connect 25 2 1 0;
#X restore 22 106 pd load;
#X msg 292 25 \; gemwin destroy;
#N canvas 729 156 450 300 test 0;
#X floatatom 93 175 5 0 0 0 - - -;
#X obj 93 198 _getimg;
#X obj 93 222 s draw_result;
#X msg 26 50 \; load 10 subway /Users/federicocamarahalac/Documents/subway-img
;
#X msg 25 107 \; load 10 i /Users/federicocamarahalac/Documents/fd_work/images/jpg3
;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X restore 297 113 pd test;
#X obj 251 276 pix_buffer_read img;
#X floatatom 327 173 5 0 0 0 - - -;
#X obj 251 302 pix_texture;
#X obj 251 328 square 4;
#X obj 251 250 gemhead -1;
#X obj 327 198 t b f;
#X connect 10 0 11 0;
#X connect 15 0 17 0;
#X connect 16 0 20 0;
#X connect 17 0 18 0;
#X connect 19 0 15 0;
#X connect 20 0 19 0;
#X connect 20 1 15 1;
